<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Closures: Anonymous Functions that Can Capture Their Environment - Knowledge Management Base</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A description">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="../mytopic/index.html"><strong aria-hidden="true">1.</strong> My Topic</a></li><li><ol class="section"><li class="expanded "><a href="../mytopic/rust_trait_topic.html"><strong aria-hidden="true">1.1.</strong> Rust trait topic</a></li><li class="expanded "><a href="../mytopic/rust_copy_clone.html"><strong aria-hidden="true">1.2.</strong> Rust difference between copy and clone</a></li><li class="expanded "><a href="../mytopic/ownership_borrow_move_reference.html"><strong aria-hidden="true">1.3.</strong> Rust ownership borrow and move reference</a></li><li class="expanded "><a href="../mytopic/str_string.html"><strong aria-hidden="true">1.4.</strong> Rust &amp;str and String</a></li><li class="expanded "><a href="../mytopic/closure.html"><strong aria-hidden="true">1.5.</strong> Rust closure</a></li></ol></li><li class="expanded "><a href="../algorithm/index.html"><strong aria-hidden="true">2.</strong> Algorithm</a></li><li><ol class="section"><li class="expanded "><a href="../algorithm/geektimealgorithm/index.html"><strong aria-hidden="true">2.1.</strong> 极客时间 数据结构与算法之美 geeitime algorithm</a></li><li class="expanded "><a href="../algorithm/algorithmbook/index.html"><strong aria-hidden="true">2.2.</strong> Algorithm Book</a></li><li class="expanded "><a href="../algorithm/geektimemath/index.html"><strong aria-hidden="true">2.3.</strong> 极客时间 程序员的数学基础课 geektime math</a></li></ol></li><li class="expanded "><a href="../frontend/index.html"><strong aria-hidden="true">3.</strong> Frontend</a></li><li class="expanded "><a href="../tao/index.html"><strong aria-hidden="true">4.</strong> 编程之道 Tao of Rust</a></li><li><ol class="section"><li class="expanded "><a href="../tao/typesystem/index.html"><strong aria-hidden="true">4.1.</strong> 类型系统</a></li><li class="expanded "><a href="../tao/memory/index.html"><strong aria-hidden="true">4.2.</strong> 内存管理</a></li><li class="expanded "><a href="../tao/ownership/index.html"><strong aria-hidden="true">4.3.</strong> 所有权系统</a></li><li class="expanded "><a href="../tao/functionclosure/index.html"><strong aria-hidden="true">4.4.</strong> 函数 闭包与迭代器</a></li><li class="expanded "><a href="../tao/jiegouhua/index.html"><strong aria-hidden="true">4.5.</strong> 结构化编程</a></li><li class="expanded "><a href="../tao/stringcollection/index.html"><strong aria-hidden="true">4.6.</strong> 字符串与集合类型</a></li><li class="expanded "><a href="../tao/jianzhuang/index.html"><strong aria-hidden="true">4.7.</strong> 构建健壮的程序</a></li><li class="expanded "><a href="../tao/module/index.html"><strong aria-hidden="true">4.8.</strong> 模块化编程</a></li><li class="expanded "><a href="../tao/bingfa/index.html"><strong aria-hidden="true">4.9.</strong> 安全并发</a></li><li class="expanded "><a href="../tao/macro/index.html"><strong aria-hidden="true">4.10.</strong> 元编程</a></li><li class="expanded "><a href="../tao/unsafe/index.html"><strong aria-hidden="true">4.11.</strong> 超越安全的边界</a></li></ol></li><li class="expanded "><a href="../rustexample/index.html"><strong aria-hidden="true">5.</strong> Rust by Example</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/hello.html"><strong aria-hidden="true">5.1.</strong> Hello World</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/hello/comment.html"><strong aria-hidden="true">5.1.1.</strong> Comments</a></li><li class="expanded "><a href="../rustexample/hello/print.html"><strong aria-hidden="true">5.1.2.</strong> Formatted print</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/hello/print/print_debug.html"><strong aria-hidden="true">5.1.2.1.</strong> Debug</a></li><li class="expanded "><a href="../rustexample/hello/print/print_display.html"><strong aria-hidden="true">5.1.2.2.</strong> Display</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/hello/print/print_display/testcase_list.html"><strong aria-hidden="true">5.1.2.2.1.</strong> Testcase: List</a></li></ol></li><li class="expanded "><a href="../rustexample/hello/print/fmt.html"><strong aria-hidden="true">5.1.2.3.</strong> Formatting</a></li></ol></li></ol></li><li class="expanded "><a href="../rustexample/primitives.html"><strong aria-hidden="true">5.2.</strong> Primitives</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/primitives/literals.html"><strong aria-hidden="true">5.2.1.</strong> Literals and operators</a></li><li class="expanded "><a href="../rustexample/primitives/tuples.html"><strong aria-hidden="true">5.2.2.</strong> Tuples</a></li><li class="expanded "><a href="../rustexample/primitives/array.html"><strong aria-hidden="true">5.2.3.</strong> Arrays and Slices</a></li></ol></li><li class="expanded "><a href="../rustexample/custom_types.html"><strong aria-hidden="true">5.3.</strong> Custom Types</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/custom_types/structs.html"><strong aria-hidden="true">5.3.1.</strong> Structures</a></li><li class="expanded "><a href="../rustexample/custom_types/enum.html"><strong aria-hidden="true">5.3.2.</strong> Enums</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/custom_types/enum/enum_use.html"><strong aria-hidden="true">5.3.2.1.</strong> use</a></li><li class="expanded "><a href="../rustexample/custom_types/enum/c_like.html"><strong aria-hidden="true">5.3.2.2.</strong> C-like</a></li><li class="expanded "><a href="../rustexample/custom_types/enum/testcase_linked_list.html"><strong aria-hidden="true">5.3.2.3.</strong> Testcase: linked-list</a></li></ol></li><li class="expanded "><a href="../rustexample/custom_types/constants.html"><strong aria-hidden="true">5.3.3.</strong> constants</a></li></ol></li><li class="expanded "><a href="../rustexample/variable_bindings.html"><strong aria-hidden="true">5.4.</strong> Variable Bindings</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/variable_bindings/mut.html"><strong aria-hidden="true">5.4.1.</strong> Mutability</a></li><li class="expanded "><a href="../rustexample/variable_bindings/scope.html"><strong aria-hidden="true">5.4.2.</strong> Scope and Shadowing</a></li><li class="expanded "><a href="../rustexample/variable_bindings/declare.html"><strong aria-hidden="true">5.4.3.</strong> Declare first</a></li></ol></li><li class="expanded "><a href="../rustexample/types.html"><strong aria-hidden="true">5.5.</strong> Types</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/types/cast.html"><strong aria-hidden="true">5.5.1.</strong> Casting</a></li><li class="expanded "><a href="../rustexample/types/literals.html"><strong aria-hidden="true">5.5.2.</strong> Literals</a></li><li class="expanded "><a href="../rustexample/types/inference.html"><strong aria-hidden="true">5.5.3.</strong> Inference</a></li><li class="expanded "><a href="../rustexample/types/alias.html"><strong aria-hidden="true">5.5.4.</strong> Aliasing</a></li></ol></li><li class="expanded "><a href="../rustexample/conversion.html"><strong aria-hidden="true">5.6.</strong> Conversion</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/conversion/from_into.html"><strong aria-hidden="true">5.6.1.</strong> From and Into</a></li><li class="expanded "><a href="../rustexample/conversion/string.html"><strong aria-hidden="true">5.6.2.</strong> To and from Strings</a></li></ol></li><li class="expanded "><a href="../rustexample/expression.html"><strong aria-hidden="true">5.7.</strong> Expressions</a></li><li class="expanded "><a href="../rustexample/flow_control.html"><strong aria-hidden="true">5.8.</strong> Flow of Control</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/flow_control/if_else.html"><strong aria-hidden="true">5.8.1.</strong> if/else</a></li><li class="expanded "><a href="../rustexample/flow_control/loop.html"><strong aria-hidden="true">5.8.2.</strong> loop</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/flow_control/loop/nested.html"><strong aria-hidden="true">5.8.2.1.</strong> Nesting and labels</a></li><li class="expanded "><a href="../rustexample/flow_control/loop/return.html"><strong aria-hidden="true">5.8.2.2.</strong> Returning from loops</a></li></ol></li><li class="expanded "><a href="../rustexample/flow_control/while.html"><strong aria-hidden="true">5.8.3.</strong> while</a></li><li class="expanded "><a href="../rustexample/flow_control/for.html"><strong aria-hidden="true">5.8.4.</strong> for and range</a></li><li class="expanded "><a href="../rustexample/flow_control/match.html"><strong aria-hidden="true">5.8.5.</strong> match</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/flow_control/match/destructuring.html"><strong aria-hidden="true">5.8.5.1.</strong> Destructuring</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/flow_control/match/destructuring/destructure_tuple.html"><strong aria-hidden="true">5.8.5.1.1.</strong> tuples</a></li><li class="expanded "><a href="../rustexample/flow_control/match/destructuring/destructure_enum.html"><strong aria-hidden="true">5.8.5.1.2.</strong> enums</a></li><li class="expanded "><a href="../rustexample/flow_control/match/destructuring/destructure_pointers.html"><strong aria-hidden="true">5.8.5.1.3.</strong> pointers/ref</a></li><li class="expanded "><a href="../rustexample/flow_control/match/destructuring/destructure_structures.html"><strong aria-hidden="true">5.8.5.1.4.</strong> structs</a></li></ol></li><li class="expanded "><a href="../rustexample/flow_control/match/guard.html"><strong aria-hidden="true">5.8.5.2.</strong> Guards</a></li><li class="expanded "><a href="../rustexample/flow_control/match/binding.html"><strong aria-hidden="true">5.8.5.3.</strong> Binding</a></li></ol></li><li class="expanded "><a href="../rustexample/flow_control/if_let.html"><strong aria-hidden="true">5.8.6.</strong> if let</a></li><li class="expanded "><a href="../rustexample/flow_control/while_let.html"><strong aria-hidden="true">5.8.7.</strong> while let</a></li></ol></li><li class="expanded "><a href="../rustexample/fn.html"><strong aria-hidden="true">5.9.</strong> Functions</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/fn/methods.html"><strong aria-hidden="true">5.9.1.</strong> Methods</a></li><li class="expanded "><a href="../rustexample/fn/closures.html"><strong aria-hidden="true">5.9.2.</strong> Closures</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/fn/closures/capture.html"><strong aria-hidden="true">5.9.2.1.</strong> Capturing</a></li><li class="expanded "><a href="../rustexample/fn/closures/input_parameters.html"><strong aria-hidden="true">5.9.2.2.</strong> As input parameters</a></li><li class="expanded "><a href="../rustexample/fn/closures/anonymity.html"><strong aria-hidden="true">5.9.2.3.</strong> Type anonymity</a></li><li class="expanded "><a href="../rustexample/fn/closures/input_functions.html"><strong aria-hidden="true">5.9.2.4.</strong> Input functions</a></li><li class="expanded "><a href="../rustexample/fn/closures/output_parameters.html"><strong aria-hidden="true">5.9.2.5.</strong> As output parameters</a></li><li class="expanded "><a href="../rustexample/fn/closures/closure_examples.html"><strong aria-hidden="true">5.9.2.6.</strong> Examples in std</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/fn/closures/closure_examples/iter_any.html"><strong aria-hidden="true">5.9.2.6.1.</strong> Iterator::any</a></li><li class="expanded "><a href="../rustexample/fn/closures/closure_examples/iter_find.html"><strong aria-hidden="true">5.9.2.6.2.</strong> Iterator::find</a></li></ol></li></ol></li><li class="expanded "><a href="../rustexample/fn/hof.html"><strong aria-hidden="true">5.9.3.</strong> Higher Order Functions</a></li><li class="expanded "><a href="../rustexample/fn/diverging.html"><strong aria-hidden="true">5.9.4.</strong> Diverging functions</a></li></ol></li><li class="expanded "><a href="../rustexample/mod.html"><strong aria-hidden="true">5.10.</strong> Modules</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/mod/visibility.html"><strong aria-hidden="true">5.10.1.</strong> Visibility</a></li><li class="expanded "><a href="../rustexample/mod/struct_visibility.html"><strong aria-hidden="true">5.10.2.</strong> Struct visibility</a></li><li class="expanded "><a href="../rustexample/mod/use.html"><strong aria-hidden="true">5.10.3.</strong> The use declaration</a></li><li class="expanded "><a href="../rustexample/mod/super.html"><strong aria-hidden="true">5.10.4.</strong> super and self</a></li><li class="expanded "><a href="../rustexample/mod/split.html"><strong aria-hidden="true">5.10.5.</strong> File hierarchy</a></li></ol></li><li class="expanded "><a href="../rustexample/crates.html"><strong aria-hidden="true">5.11.</strong> Crates</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/crates/lib.html"><strong aria-hidden="true">5.11.1.</strong> Library</a></li><li class="expanded "><a href="../rustexample/crates/link.html"><strong aria-hidden="true">5.11.2.</strong> extern crate</a></li></ol></li><li class="expanded "><a href="../rustexample/cargo.html"><strong aria-hidden="true">5.12.</strong> Cargo</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/cargo/deps.html"><strong aria-hidden="true">5.12.1.</strong> Dependencies</a></li><li class="expanded "><a href="../rustexample/cargo/conventions.html"><strong aria-hidden="true">5.12.2.</strong> Conventions</a></li><li class="expanded "><a href="../rustexample/cargo/test.html"><strong aria-hidden="true">5.12.3.</strong> Tests</a></li><li class="expanded "><a href="../rustexample/cargo/build_scripts.html"><strong aria-hidden="true">5.12.4.</strong> Build Scripts</a></li></ol></li><li class="expanded "><a href="../rustexample/attribute.html"><strong aria-hidden="true">5.13.</strong> Attributes</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/attribute/unused.html"><strong aria-hidden="true">5.13.1.</strong> dead_code</a></li><li class="expanded "><a href="../rustexample/attribute/crate.html"><strong aria-hidden="true">5.13.2.</strong> Crates</a></li><li class="expanded "><a href="../rustexample/attribute/cfg.html"><strong aria-hidden="true">5.13.3.</strong> cfg</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/attribute/cfg/custom.html"><strong aria-hidden="true">5.13.3.1.</strong> Custom</a></li></ol></li></ol></li><li class="expanded "><a href="../rustexample/generics.html"><strong aria-hidden="true">5.14.</strong> Generics</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/generics/gen_fn.html"><strong aria-hidden="true">5.14.1.</strong> Functions</a></li><li class="expanded "><a href="../rustexample/generics/impl.html"><strong aria-hidden="true">5.14.2.</strong> Implementation</a></li><li class="expanded "><a href="../rustexample/generics/gen_trait.html"><strong aria-hidden="true">5.14.3.</strong> Traits</a></li><li class="expanded "><a href="../rustexample/generics/bounds.html"><strong aria-hidden="true">5.14.4.</strong> Bounds</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/generics/bounds/testcase_empty.html"><strong aria-hidden="true">5.14.4.1.</strong> Testcase: empty bounds</a></li></ol></li><li class="expanded "><a href="../rustexample/generics/multi_bounds.html"><strong aria-hidden="true">5.14.5.</strong> Multiple bounds</a></li><li class="expanded "><a href="../rustexample/generics/where.html"><strong aria-hidden="true">5.14.6.</strong> Where clauses</a></li><li class="expanded "><a href="../rustexample/generics/new_types.html"><strong aria-hidden="true">5.14.7.</strong> New Type Idiom</a></li><li class="expanded "><a href="../rustexample/generics/assoc_items.html"><strong aria-hidden="true">5.14.8.</strong> Associated items</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/generics/assoc_items/the_problem.html"><strong aria-hidden="true">5.14.8.1.</strong> The Problem</a></li><li class="expanded "><a href="../rustexample/generics/assoc_items/types.html"><strong aria-hidden="true">5.14.8.2.</strong> Associated types</a></li></ol></li><li class="expanded "><a href="../rustexample/generics/phantom.html"><strong aria-hidden="true">5.14.9.</strong> Phantom type parameters</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/generics/phantom/testcase_units.html"><strong aria-hidden="true">5.14.9.1.</strong> Testcase: unit clarification</a></li></ol></li></ol></li><li class="expanded "><a href="../rustexample/scope.html"><strong aria-hidden="true">5.15.</strong> Scoping rules</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/scope/raii.html"><strong aria-hidden="true">5.15.1.</strong> RAII</a></li><li class="expanded "><a href="../rustexample/scope/move.html"><strong aria-hidden="true">5.15.2.</strong> Ownership and moves</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/scope/move/mut.html"><strong aria-hidden="true">5.15.2.1.</strong> Mutability</a></li></ol></li><li class="expanded "><a href="../rustexample/scope/borrow.html"><strong aria-hidden="true">5.15.3.</strong> Borrowing</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/scope/borrow/mut.html"><strong aria-hidden="true">5.15.3.1.</strong> Mutability</a></li><li class="expanded "><a href="../rustexample/scope/borrow/freeze.html"><strong aria-hidden="true">5.15.3.2.</strong> Freezing</a></li><li class="expanded "><a href="../rustexample/scope/borrow/alias.html"><strong aria-hidden="true">5.15.3.3.</strong> Aliasing</a></li><li class="expanded "><a href="../rustexample/scope/borrow/ref.html"><strong aria-hidden="true">5.15.3.4.</strong> The ref pattern</a></li></ol></li><li class="expanded "><a href="../rustexample/scope/lifetime.html"><strong aria-hidden="true">5.15.4.</strong> Lifetimes</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/scope/lifetime/explicit.html"><strong aria-hidden="true">5.15.4.1.</strong> Explicit annotation</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/fn.html"><strong aria-hidden="true">5.15.4.2.</strong> Functions</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/methods.html"><strong aria-hidden="true">5.15.4.3.</strong> Methods</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/struct.html"><strong aria-hidden="true">5.15.4.4.</strong> Structs</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/trait.html"><strong aria-hidden="true">5.15.4.5.</strong> Traits</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/lifetime_bounds.html"><strong aria-hidden="true">5.15.4.6.</strong> Bounds</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/lifetime_coercion.html"><strong aria-hidden="true">5.15.4.7.</strong> Coercion</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/static_lifetime.html"><strong aria-hidden="true">5.15.4.8.</strong> Static</a></li><li class="expanded "><a href="../rustexample/scope/lifetime/elision.html"><strong aria-hidden="true">5.15.4.9.</strong> Elision</a></li></ol></li></ol></li><li class="expanded "><a href="../rustexample/trait.html"><strong aria-hidden="true">5.16.</strong> Traits</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/trait/derive.html"><strong aria-hidden="true">5.16.1.</strong> Derive</a></li><li class="expanded "><a href="../rustexample/trait/ops.html"><strong aria-hidden="true">5.16.2.</strong> Operator Overloading</a></li><li class="expanded "><a href="../rustexample/trait/drop.html"><strong aria-hidden="true">5.16.3.</strong> Drop</a></li><li class="expanded "><a href="../rustexample/trait/iter.html"><strong aria-hidden="true">5.16.4.</strong> Iterators</a></li><li class="expanded "><a href="../rustexample/trait/clone.html"><strong aria-hidden="true">5.16.5.</strong> Clone</a></li></ol></li><li class="expanded "><a href="../rustexample/macros.html"><strong aria-hidden="true">5.17.</strong> macro_rules!</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/macros/syntax.html"><strong aria-hidden="true">5.17.1.</strong> Syntax</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/macros/designators.html"><strong aria-hidden="true">5.17.1.1.</strong> Designators</a></li><li class="expanded "><a href="../rustexample/macros/overload.html"><strong aria-hidden="true">5.17.1.2.</strong> Overload</a></li><li class="expanded "><a href="../rustexample/macros/repeat.html"><strong aria-hidden="true">5.17.1.3.</strong> Repeat</a></li></ol></li><li class="expanded "><a href="../rustexample/macros/dry.html"><strong aria-hidden="true">5.17.2.</strong> DRY (Don't Repeat Yourself)</a></li><li class="expanded "><a href="../rustexample/macros/dsl.html"><strong aria-hidden="true">5.17.3.</strong> DSL (Domain Specific Languages)</a></li><li class="expanded "><a href="../rustexample/macros/variadics.html"><strong aria-hidden="true">5.17.4.</strong> Variadics</a></li></ol></li><li class="expanded "><a href="../rustexample/error.html"><strong aria-hidden="true">5.18.</strong> Error handling</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/error/panic.html"><strong aria-hidden="true">5.18.1.</strong> panic</a></li><li class="expanded "><a href="../rustexample/error/option_unwrap.html"><strong aria-hidden="true">5.18.2.</strong> Option &amp; unwrap</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/error/option_unwrap/map.html"><strong aria-hidden="true">5.18.2.1.</strong> Combinators: map</a></li><li class="expanded "><a href="../rustexample/error/option_unwrap/and_then.html"><strong aria-hidden="true">5.18.2.2.</strong> Combinators: and_then</a></li></ol></li><li class="expanded "><a href="../rustexample/error/result.html"><strong aria-hidden="true">5.18.3.</strong> Result</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/error/result/result_map.html"><strong aria-hidden="true">5.18.3.1.</strong> map for Result</a></li><li class="expanded "><a href="../rustexample/error/result/result_alias.html"><strong aria-hidden="true">5.18.3.2.</strong> aliases for Result</a></li><li class="expanded "><a href="../rustexample/error/result/early_returns.html"><strong aria-hidden="true">5.18.3.3.</strong> Early returns</a></li><li class="expanded "><a href="../rustexample/error/result/enter_question_mark.html"><strong aria-hidden="true">5.18.3.4.</strong> Introducing ?</a></li></ol></li><li class="expanded "><a href="../rustexample/error/multiple_error_types.html"><strong aria-hidden="true">5.18.4.</strong> Multiple error types</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/error/multiple_error_types/option_result.html"><strong aria-hidden="true">5.18.4.1.</strong> Pulling Results out of Options</a></li><li class="expanded "><a href="../rustexample/error/multiple_error_types/define_error_type.html"><strong aria-hidden="true">5.18.4.2.</strong> Defining an error type</a></li><li class="expanded "><a href="../rustexample/error/multiple_error_types/boxing_errors.html"><strong aria-hidden="true">5.18.4.3.</strong> Boxing errors</a></li><li class="expanded "><a href="../rustexample/error/multiple_error_types/reenter_question_mark.html"><strong aria-hidden="true">5.18.4.4.</strong> Other uses of ?</a></li><li class="expanded "><a href="../rustexample/error/multiple_error_types/wrap_error.html"><strong aria-hidden="true">5.18.4.5.</strong> Wrapping errors</a></li></ol></li><li class="expanded "><a href="../rustexample/error/iter_result.html"><strong aria-hidden="true">5.18.5.</strong> Iterating over Results</a></li></ol></li><li class="expanded "><a href="../rustexample/std.html"><strong aria-hidden="true">5.19.</strong> Std library types</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std/box.html"><strong aria-hidden="true">5.19.1.</strong> Box, stack and heap</a></li><li class="expanded "><a href="../rustexample/std/vec.html"><strong aria-hidden="true">5.19.2.</strong> Vectors</a></li><li class="expanded "><a href="../rustexample/std/str.html"><strong aria-hidden="true">5.19.3.</strong> Strings</a></li><li class="expanded "><a href="../rustexample/std/option.html"><strong aria-hidden="true">5.19.4.</strong> Option</a></li><li class="expanded "><a href="../rustexample/std/result.html"><strong aria-hidden="true">5.19.5.</strong> Result</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std/result/question_mark.html"><strong aria-hidden="true">5.19.5.1.</strong> ?</a></li></ol></li><li class="expanded "><a href="../rustexample/std/panic.html"><strong aria-hidden="true">5.19.6.</strong> panic!</a></li><li class="expanded "><a href="../rustexample/std/hash.html"><strong aria-hidden="true">5.19.7.</strong> HashMap</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std/hash/alt_key_types.html"><strong aria-hidden="true">5.19.7.1.</strong> Alternate/custom key types</a></li><li class="expanded "><a href="../rustexample/std/hash/hashset.html"><strong aria-hidden="true">5.19.7.2.</strong> HashSet</a></li></ol></li></ol></li><li class="expanded "><a href="../rustexample/std_misc.html"><strong aria-hidden="true">5.20.</strong> Std misc</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std_misc/threads.html"><strong aria-hidden="true">5.20.1.</strong> Threads</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std_misc/threads/testcase_mapreduce.html"><strong aria-hidden="true">5.20.1.1.</strong> Testcase: map-reduce</a></li></ol></li><li class="expanded "><a href="../rustexample/std_misc/channels.html"><strong aria-hidden="true">5.20.2.</strong> Channels</a></li><li class="expanded "><a href="../rustexample/std_misc/path.html"><strong aria-hidden="true">5.20.3.</strong> Path</a></li><li class="expanded "><a href="../rustexample/std_misc/file.html"><strong aria-hidden="true">5.20.4.</strong> File I/O</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std_misc/file/open.html"><strong aria-hidden="true">5.20.4.1.</strong> open</a></li><li class="expanded "><a href="../rustexample/std_misc/file/create.html"><strong aria-hidden="true">5.20.4.2.</strong> create</a></li><li class="expanded "><a href="../rustexample/std_misc/file/read_lines.html"><strong aria-hidden="true">5.20.4.3.</strong> read lines</a></li></ol></li><li class="expanded "><a href="../rustexample/std_misc/process.html"><strong aria-hidden="true">5.20.5.</strong> Child processes</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std_misc/process/pipe.html"><strong aria-hidden="true">5.20.5.1.</strong> Pipes</a></li><li class="expanded "><a href="../rustexample/std_misc/process/wait.html"><strong aria-hidden="true">5.20.5.2.</strong> Wait</a></li></ol></li><li class="expanded "><a href="../rustexample/std_misc/fs.html"><strong aria-hidden="true">5.20.6.</strong> Filesystem Operations</a></li><li class="expanded "><a href="../rustexample/std_misc/arg.html"><strong aria-hidden="true">5.20.7.</strong> Program arguments</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/std_misc/arg/matching.html"><strong aria-hidden="true">5.20.7.1.</strong> Argument parsing</a></li></ol></li><li class="expanded "><a href="../rustexample/std_misc/ffi.html"><strong aria-hidden="true">5.20.8.</strong> Foreign Function Interface</a></li></ol></li><li class="expanded "><a href="../rustexample/testing.html"><strong aria-hidden="true">5.21.</strong> Testing</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/testing/unit_testing.html"><strong aria-hidden="true">5.21.1.</strong> Unit testing</a></li><li class="expanded "><a href="../rustexample/testing/doc_testing.html"><strong aria-hidden="true">5.21.2.</strong> Documentation testing</a></li><li class="expanded "><a href="../rustexample/testing/integration_testing.html"><strong aria-hidden="true">5.21.3.</strong> Integration testing</a></li><li class="expanded "><a href="../rustexample/testing/dev_dependencies.html"><strong aria-hidden="true">5.21.4.</strong> Dev-dependencies</a></li></ol></li><li class="expanded "><a href="../rustexample/unsafe.html"><strong aria-hidden="true">5.22.</strong> Unsafe Operations</a></li><li class="expanded "><a href="../rustexample/compatibility.html"><strong aria-hidden="true">5.23.</strong> Compatibility</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/compatibility/raw_identifiers.html"><strong aria-hidden="true">5.23.1.</strong> Raw identifiers</a></li></ol></li><li class="expanded "><a href="../rustexample/meta.html"><strong aria-hidden="true">5.24.</strong> Meta</a></li><li><ol class="section"><li class="expanded "><a href="../rustexample/meta/doc.html"><strong aria-hidden="true">5.24.1.</strong> Documentation</a></li></ol></li></ol></li><li class="expanded "><a href="../rustbook/ch00-00-introduction.html"><strong aria-hidden="true">6.</strong> Rust Programming Language Book</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch01-00-getting-started.html"><strong aria-hidden="true">6.1.</strong> Getting Started</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch01-01-installation.html"><strong aria-hidden="true">6.1.1.</strong> Installation</a></li><li class="expanded "><a href="../rustbook/ch01-02-hello-world.html"><strong aria-hidden="true">6.1.2.</strong> Hello, World!</a></li><li class="expanded "><a href="../rustbook/ch01-03-hello-cargo.html"><strong aria-hidden="true">6.1.3.</strong> Hello, Cargo!</a></li></ol></li><li class="expanded "><a href="../rustbook/ch02-00-guessing-game-tutorial.html"><strong aria-hidden="true">6.2.</strong> Programming a Guessing Game</a></li><li class="expanded "><a href="../rustbook/ch03-00-common-programming-concepts.html"><strong aria-hidden="true">6.3.</strong> Common Programming Concepts</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch03-01-variables-and-mutability.html"><strong aria-hidden="true">6.3.1.</strong> Variables and Mutability</a></li><li class="expanded "><a href="../rustbook/ch03-02-data-types.html"><strong aria-hidden="true">6.3.2.</strong> Data Types</a></li><li class="expanded "><a href="../rustbook/ch03-03-how-functions-work.html"><strong aria-hidden="true">6.3.3.</strong> Functions</a></li><li class="expanded "><a href="../rustbook/ch03-04-comments.html"><strong aria-hidden="true">6.3.4.</strong> Comments</a></li><li class="expanded "><a href="../rustbook/ch03-05-control-flow.html"><strong aria-hidden="true">6.3.5.</strong> Control Flow</a></li></ol></li><li class="expanded "><a href="../rustbook/ch04-00-understanding-ownership.html"><strong aria-hidden="true">6.4.</strong> Understanding Ownership</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch04-01-what-is-ownership.html"><strong aria-hidden="true">6.4.1.</strong> What is Ownership?</a></li><li class="expanded "><a href="../rustbook/ch04-02-references-and-borrowing.html"><strong aria-hidden="true">6.4.2.</strong> References and Borrowing</a></li><li class="expanded "><a href="../rustbook/ch04-03-slices.html"><strong aria-hidden="true">6.4.3.</strong> The Slice Type</a></li></ol></li><li class="expanded "><a href="../rustbook/ch05-00-structs.html"><strong aria-hidden="true">6.5.</strong> Using Structs to Structure Related Data</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch05-01-defining-structs.html"><strong aria-hidden="true">6.5.1.</strong> Defining and Instantiating Structs</a></li><li class="expanded "><a href="../rustbook/ch05-02-example-structs.html"><strong aria-hidden="true">6.5.2.</strong> An Example Program Using Structs</a></li><li class="expanded "><a href="../rustbook/ch05-03-method-syntax.html"><strong aria-hidden="true">6.5.3.</strong> Method Syntax</a></li></ol></li><li class="expanded "><a href="../rustbook/ch06-00-enums.html"><strong aria-hidden="true">6.6.</strong> Enums and Pattern Matching</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch06-01-defining-an-enum.html"><strong aria-hidden="true">6.6.1.</strong> Defining an Enum</a></li><li class="expanded "><a href="../rustbook/ch06-02-match.html"><strong aria-hidden="true">6.6.2.</strong> The match Control Flow Operator</a></li><li class="expanded "><a href="../rustbook/ch06-03-if-let.html"><strong aria-hidden="true">6.6.3.</strong> Concise Control Flow with if let</a></li></ol></li><li class="expanded "><a href="../rustbook/ch07-00-managing-growing-projects-with-packages-crates-and-modules.html"><strong aria-hidden="true">6.7.</strong> Managing Growing Projects with Packages Crates and Modules</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch07-01-packages-and-crates.html"><strong aria-hidden="true">6.7.1.</strong> Packages and Crates</a></li><li class="expanded "><a href="../rustbook/ch07-02-defining-modules-to-control-scope-and-privacy.html"><strong aria-hidden="true">6.7.2.</strong> Defining Modules to Control Scope and Privacy</a></li><li class="expanded "><a href="../rustbook/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html"><strong aria-hidden="true">6.7.3.</strong> Paths for Referring to an Item in the Module Tree</a></li><li class="expanded "><a href="../rustbook/ch07-04-bringing-paths-into-scope-with-the-use-keyword.html"><strong aria-hidden="true">6.7.4.</strong> Bringing Paths Into Scope with the use Keyword</a></li><li class="expanded "><a href="../rustbook/ch07-05-separating-modules-into-different-files.html"><strong aria-hidden="true">6.7.5.</strong> Separating Modules into Different Files</a></li></ol></li><li class="expanded "><a href="../rustbook/ch08-00-common-collections.html"><strong aria-hidden="true">6.8.</strong> Common Collections</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch08-01-vectors.html"><strong aria-hidden="true">6.8.1.</strong> Storing Lists of Values with Vectors</a></li><li class="expanded "><a href="../rustbook/ch08-02-strings.html"><strong aria-hidden="true">6.8.2.</strong> Storing UTF-8 Encoded Text with Strings</a></li><li class="expanded "><a href="../rustbook/ch08-03-hash-maps.html"><strong aria-hidden="true">6.8.3.</strong> Storing Keys with Associated Values in Hash Maps</a></li></ol></li><li class="expanded "><a href="../rustbook/ch09-00-error-handling.html"><strong aria-hidden="true">6.9.</strong> Error Handling</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch09-01-unrecoverable-errors-with-panic.html"><strong aria-hidden="true">6.9.1.</strong> Unrecoverable Errors with panic!</a></li><li class="expanded "><a href="../rustbook/ch09-02-recoverable-errors-with-result.html"><strong aria-hidden="true">6.9.2.</strong> Recoverable Errors with Result</a></li><li class="expanded "><a href="../rustbook/ch09-03-to-panic-or-not-to-panic.html"><strong aria-hidden="true">6.9.3.</strong> To panic! or Not To panic!</a></li></ol></li><li class="expanded "><a href="../rustbook/ch10-00-generics.html"><strong aria-hidden="true">6.10.</strong> Generic Types, Traits, and Lifetimes</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch10-01-syntax.html"><strong aria-hidden="true">6.10.1.</strong> Generic Data Types</a></li><li class="expanded "><a href="../rustbook/ch10-02-traits.html"><strong aria-hidden="true">6.10.2.</strong> Traits: Defining Shared Behavior</a></li><li class="expanded "><a href="../rustbook/ch10-03-lifetime-syntax.html"><strong aria-hidden="true">6.10.3.</strong> Validating References with Lifetimes</a></li></ol></li><li class="expanded "><a href="../rustbook/ch11-00-testing.html"><strong aria-hidden="true">6.11.</strong> Writing Automated Tests</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch11-01-writing-tests.html"><strong aria-hidden="true">6.11.1.</strong> How to Write Tests</a></li><li class="expanded "><a href="../rustbook/ch11-02-running-tests.html"><strong aria-hidden="true">6.11.2.</strong> Controlling How Tests Are Run</a></li><li class="expanded "><a href="../rustbook/ch11-03-test-organization.html"><strong aria-hidden="true">6.11.3.</strong> Test Organization</a></li></ol></li><li class="expanded "><a href="../rustbook/ch12-00-an-io-project.html"><strong aria-hidden="true">6.12.</strong> An I/O Project: Building a Command Line Program</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch12-01-accepting-command-line-arguments.html"><strong aria-hidden="true">6.12.1.</strong> Accepting Command Line Arguments</a></li><li class="expanded "><a href="../rustbook/ch12-02-reading-a-file.html"><strong aria-hidden="true">6.12.2.</strong> Reading a File</a></li><li class="expanded "><a href="../rustbook/ch12-03-improving-error-handling-and-modularity.html"><strong aria-hidden="true">6.12.3.</strong> Refactoring to Improve Modularity and Error Handling</a></li><li class="expanded "><a href="../rustbook/ch12-04-testing-the-librarys-functionality.html"><strong aria-hidden="true">6.12.4.</strong> Developing the Library’s Functionality with Test Driven Development</a></li><li class="expanded "><a href="../rustbook/ch12-05-working-with-environment-variables.html"><strong aria-hidden="true">6.12.5.</strong> Working with Environment Variables</a></li><li class="expanded "><a href="../rustbook/ch12-06-writing-to-stderr-instead-of-stdout.html"><strong aria-hidden="true">6.12.6.</strong> Writing Error Messages to Standard Error Instead of Standard Output</a></li></ol></li><li class="expanded "><a href="../rustbook/ch13-00-functional-features.html"><strong aria-hidden="true">6.13.</strong> Functional Language Features  Iterators and Closures</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch13-01-closures.html" class="active"><strong aria-hidden="true">6.13.1.</strong> Closures: Anonymous Functions that Can Capture Their Environment</a></li><li class="expanded "><a href="../rustbook/ch13-02-iterators.html"><strong aria-hidden="true">6.13.2.</strong> Processing a Series of Items with Iterators</a></li><li class="expanded "><a href="../rustbook/ch13-03-improving-our-io-project.html"><strong aria-hidden="true">6.13.3.</strong> Improving Our I/O Project</a></li><li class="expanded "><a href="../rustbook/ch13-04-performance.html"><strong aria-hidden="true">6.13.4.</strong> Comparing Performance: Loops vs. Iterators</a></li></ol></li><li class="expanded "><a href="../rustbook/ch14-00-more-about-cargo.html"><strong aria-hidden="true">6.14.</strong> More about Cargo and Crates.io</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch14-01-release-profiles.html"><strong aria-hidden="true">6.14.1.</strong> Customizing Builds with Release Profiles</a></li><li class="expanded "><a href="../rustbook/ch14-02-publishing-to-crates-io.html"><strong aria-hidden="true">6.14.2.</strong> Publishing a Crate to Crates.io</a></li><li class="expanded "><a href="../rustbook/ch14-03-cargo-workspaces.html"><strong aria-hidden="true">6.14.3.</strong> Cargo Workspaces</a></li><li class="expanded "><a href="../rustbook/ch14-04-installing-binaries.html"><strong aria-hidden="true">6.14.4.</strong> Installing Binaries from Crates.io with cargo install</a></li><li class="expanded "><a href="../rustbook/ch14-05-extending-cargo.html"><strong aria-hidden="true">6.14.5.</strong> Extending Cargo with Custom Commands</a></li></ol></li><li class="expanded "><a href="../rustbook/ch15-00-smart-pointers.html"><strong aria-hidden="true">6.15.</strong> Smart Pointers</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch15-01-box.html"><strong aria-hidden="true">6.15.1.</strong> Using Box<T> to Point to Data on the Heap</a></li><li class="expanded "><a href="../rustbook/ch15-02-deref.html"><strong aria-hidden="true">6.15.2.</strong> Treating Smart Pointers Like Regular References with the Deref Trait</a></li><li class="expanded "><a href="../rustbook/ch15-03-drop.html"><strong aria-hidden="true">6.15.3.</strong> Running Code on Cleanup with the Drop Trait</a></li><li class="expanded "><a href="../rustbook/ch15-04-rc.html"><strong aria-hidden="true">6.15.4.</strong> Rc<T>, the Reference Counted Smart Pointer</a></li><li class="expanded "><a href="../rustbook/ch15-05-interior-mutability.html"><strong aria-hidden="true">6.15.5.</strong> RefCell<T> and the Interior Mutability Pattern</a></li><li class="expanded "><a href="../rustbook/ch15-06-reference-cycles.html"><strong aria-hidden="true">6.15.6.</strong> Reference Cycles Can Leak Memory</a></li></ol></li><li class="expanded "><a href="../rustbook/ch16-00-concurrency.html"><strong aria-hidden="true">6.16.</strong> Fearless Concurrency</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch16-01-threads.html"><strong aria-hidden="true">6.16.1.</strong> Using Threads to Run Code Simultaneously</a></li><li class="expanded "><a href="../rustbook/ch16-02-message-passing.html"><strong aria-hidden="true">6.16.2.</strong> Using Message Passing to Transfer Data Between Threads</a></li><li class="expanded "><a href="../rustbook/ch16-03-shared-state.html"><strong aria-hidden="true">6.16.3.</strong> Shared-State Concurrency</a></li><li class="expanded "><a href="../rustbook/ch16-04-extensible-concurrency-sync-and-send.html"><strong aria-hidden="true">6.16.4.</strong> Extensible Concurrency with the Sync and Send Traits</a></li></ol></li><li class="expanded "><a href="../rustbook/ch17-00-oop.html"><strong aria-hidden="true">6.17.</strong> Object Oriented Programming Features of Rust</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch17-01-what-is-oo.html"><strong aria-hidden="true">6.17.1.</strong> Characteristics of Object-Oriented Languages</a></li><li class="expanded "><a href="../rustbook/ch17-02-trait-objects.html"><strong aria-hidden="true">6.17.2.</strong> Using Trait Objects That Allow for Values of Different Types</a></li><li class="expanded "><a href="../rustbook/ch17-03-oo-design-patterns.html"><strong aria-hidden="true">6.17.3.</strong> Implementing an Object-Oriented Design Pattern</a></li></ol></li><li class="expanded "><a href="../rustbook/ch18-00-patterns.html"><strong aria-hidden="true">6.18.</strong> Patterns and Matching</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch18-01-all-the-places-for-patterns.html"><strong aria-hidden="true">6.18.1.</strong> All the Places Patterns Can Be Used</a></li><li class="expanded "><a href="../rustbook/ch18-02-refutability.html"><strong aria-hidden="true">6.18.2.</strong> Refutability: Whether a Pattern Might Fail to Match</a></li><li class="expanded "><a href="../rustbook/ch18-03-pattern-syntax.html"><strong aria-hidden="true">6.18.3.</strong> Pattern Syntax</a></li></ol></li><li class="expanded "><a href="../rustbook/ch19-00-advanced-features.html"><strong aria-hidden="true">6.19.</strong> Advanced Features</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch19-01-unsafe-rust.html"><strong aria-hidden="true">6.19.1.</strong> Unsafe Rust</a></li><li class="expanded "><a href="../rustbook/ch19-03-advanced-traits.html"><strong aria-hidden="true">6.19.2.</strong> Advanced Traits</a></li><li class="expanded "><a href="../rustbook/ch19-04-advanced-types.html"><strong aria-hidden="true">6.19.3.</strong> Advanced Types</a></li><li class="expanded "><a href="../rustbook/ch19-05-advanced-functions-and-closures.html"><strong aria-hidden="true">6.19.4.</strong> Advanced Functions and Closures</a></li><li class="expanded "><a href="../rustbook/ch19-06-macros.html"><strong aria-hidden="true">6.19.5.</strong> Macros</a></li></ol></li><li class="expanded "><a href="../rustbook/ch20-00-final-project-a-web-server.html"><strong aria-hidden="true">6.20.</strong> Final Project: Building a Multithreaded Web Server</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/ch20-01-single-threaded.html"><strong aria-hidden="true">6.20.1.</strong> Building a Single-Threaded Web Server</a></li><li class="expanded "><a href="../rustbook/ch20-02-multithreaded.html"><strong aria-hidden="true">6.20.2.</strong> Turning Our Single-Threaded Server into a Multithreaded Server</a></li><li class="expanded "><a href="../rustbook/ch20-03-graceful-shutdown-and-cleanup.html"><strong aria-hidden="true">6.20.3.</strong> Graceful Shutdown and Cleanup</a></li></ol></li><li class="expanded "><a href="../rustbook/appendix-00.html"><strong aria-hidden="true">6.21.</strong> Appendix</a></li><li><ol class="section"><li class="expanded "><a href="../rustbook/appendix-01-keywords.html"><strong aria-hidden="true">6.21.1.</strong> A - Keywords</a></li><li class="expanded "><a href="../rustbook/appendix-02-operators.html"><strong aria-hidden="true">6.21.2.</strong> B - Operators and Symbols</a></li><li class="expanded "><a href="../rustbook/appendix-03-derivable-traits.html"><strong aria-hidden="true">6.21.3.</strong> C - Derivable Traits</a></li><li class="expanded "><a href="../rustbook/appendix-04-useful-development-tools.html"><strong aria-hidden="true">6.21.4.</strong> D - Useful Development Tools</a></li><li class="expanded "><a href="../rustbook/appendix-05-editions.html"><strong aria-hidden="true">6.21.5.</strong> E - Editions</a></li><li class="expanded "><a href="../rustbook/appendix-06-translation.html"><strong aria-hidden="true">6.21.6.</strong> F - Translations of the Book</a></li><li class="expanded "><a href="../rustbook/appendix-07-nightly-rust.html"><strong aria-hidden="true">6.21.7.</strong> G - How Rust is Made and “Nightly Rust”</a></li></ol></li></ol></li><li class="expanded "><a href="../rustdoc-2018/index.html"><strong aria-hidden="true">7.</strong> Rust Doc 2018</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/edition-changes.html"><strong aria-hidden="true">7.1.</strong> 2018-Specific Changes</a></li><li class="expanded "><a href="../rustdoc-2018/module-system/index.html"><strong aria-hidden="true">7.2.</strong> Module system</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/module-system/raw-identifiers.html"><strong aria-hidden="true">7.2.1.</strong> Raw identifiers</a></li><li class="expanded "><a href="../rustdoc-2018/module-system/path-clarity.html"><strong aria-hidden="true">7.2.2.</strong> Path clarity</a></li><li class="expanded "><a href="../rustdoc-2018/module-system/more-visibility-modifiers.html"><strong aria-hidden="true">7.2.3.</strong> More visibility modifiers</a></li><li class="expanded "><a href="../rustdoc-2018/module-system/nested-imports-with-use.html"><strong aria-hidden="true">7.2.4.</strong> Nested imports with use</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/error-handling-and-panics/index.html"><strong aria-hidden="true">7.3.</strong> Error handling and panics</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/error-handling-and-panics/the-question-mark-operator-for-easier-error-handling.html"><strong aria-hidden="true">7.3.1.</strong> The ? operator for easier error handling</a></li><li class="expanded "><a href="../rustdoc-2018/error-handling-and-panics/question-mark-in-main-and-tests.html"><strong aria-hidden="true">7.3.2.</strong> ? in main and tests</a></li><li class="expanded "><a href="../rustdoc-2018/error-handling-and-panics/controlling-panics-with-std-panic.html"><strong aria-hidden="true">7.3.3.</strong> Controlling panics with std::panic</a></li><li class="expanded "><a href="../rustdoc-2018/error-handling-and-panics/aborting-on-panic.html"><strong aria-hidden="true">7.3.4.</strong> Aborting on panic</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/control-flow/index.html"><strong aria-hidden="true">7.4.</strong> Control flow</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/control-flow/loops-can-break-with-a-value.html"><strong aria-hidden="true">7.4.1.</strong> Loops can break with a value</a></li><li class="expanded "><a href="../rustdoc-2018/control-flow/async-await-for-easier-concurrency.html"><strong aria-hidden="true">7.4.2.</strong> async/await for easier concurrency</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/trait-system/index.html"><strong aria-hidden="true">7.5.</strong> Trait system</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/trait-system/impl-trait-for-returning-complex-types-with-ease.html"><strong aria-hidden="true">7.5.1.</strong> impl Trait for returning complex types with ease</a></li><li class="expanded "><a href="../rustdoc-2018/trait-system/dyn-trait-for-trait-objects.html"><strong aria-hidden="true">7.5.2.</strong> dyn Trait for trait objects</a></li><li class="expanded "><a href="../rustdoc-2018/trait-system/more-container-types-support-trait-objects.html"><strong aria-hidden="true">7.5.3.</strong> More container types support trait objects</a></li><li class="expanded "><a href="../rustdoc-2018/trait-system/associated-constants.html"><strong aria-hidden="true">7.5.4.</strong> Associated constants</a></li><li class="expanded "><a href="../rustdoc-2018/trait-system/no-anon-params.html"><strong aria-hidden="true">7.5.5.</strong> No more anonymous parameters</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/slice-patterns.html"><strong aria-hidden="true">7.6.</strong> Slice patterns</a></li><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/index.html"><strong aria-hidden="true">7.7.</strong> Ownership and lifetimes</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/non-lexical-lifetimes.html"><strong aria-hidden="true">7.7.1.</strong> Non-lexical lifetimes</a></li><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/default-match-bindings.html"><strong aria-hidden="true">7.7.2.</strong> Default match bindings</a></li><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/the-anonymous-lifetime.html"><strong aria-hidden="true">7.7.3.</strong> '_, the anonymous lifetime</a></li><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/lifetime-elision-in-impl.html"><strong aria-hidden="true">7.7.4.</strong> Lifetime elision in impl</a></li><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/inference-in-structs.html"><strong aria-hidden="true">7.7.5.</strong> T: 'a inference in structs</a></li><li class="expanded "><a href="../rustdoc-2018/ownership-and-lifetimes/simpler-lifetimes-in-static-and-const.html"><strong aria-hidden="true">7.7.6.</strong> Simpler lifetimes in static and const</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/data-types/index.html"><strong aria-hidden="true">7.8.</strong> Data types</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/data-types/field-init-shorthand.html"><strong aria-hidden="true">7.8.1.</strong> Field init shorthand</a></li><li class="expanded "><a href="../rustdoc-2018/data-types/inclusive-ranges.html"><strong aria-hidden="true">7.8.2.</strong> ..= for inclusive ranges</a></li><li class="expanded "><a href="../rustdoc-2018/data-types/128-bit-integers.html"><strong aria-hidden="true">7.8.3.</strong> 128 bit integers</a></li><li class="expanded "><a href="../rustdoc-2018/data-types/operator-equals-are-now-implementable.html"><strong aria-hidden="true">7.8.4.</strong> &quot;Operator-equals&quot; are now implementable</a></li><li class="expanded "><a href="../rustdoc-2018/data-types/union-for-an-unsafe-form-of-enum.html"><strong aria-hidden="true">7.8.5.</strong> union for an unsafe form of enum</a></li><li class="expanded "><a href="../rustdoc-2018/data-types/choosing-alignment-with-the-repr-attribute.html"><strong aria-hidden="true">7.8.6.</strong> Choosing alignment with the repr attribute</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/simd-for-faster-computing.html"><strong aria-hidden="true">7.9.</strong> SIMD for faster computing</a></li><li class="expanded "><a href="../rustdoc-2018/macros/index.html"><strong aria-hidden="true">7.10.</strong> Macros</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/macros/custom-derive.html"><strong aria-hidden="true">7.10.1.</strong> Custom Derive</a></li><li class="expanded "><a href="../rustdoc-2018/macros/macro-changes.html"><strong aria-hidden="true">7.10.2.</strong> Macro changes</a></li><li class="expanded "><a href="../rustdoc-2018/macros/at-most-once.html"><strong aria-hidden="true">7.10.3.</strong> At most one repetition</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/the-compiler/index.html"><strong aria-hidden="true">7.11.</strong> The compiler</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/the-compiler/improved-error-messages.html"><strong aria-hidden="true">7.11.1.</strong> Improved error messages</a></li><li class="expanded "><a href="../rustdoc-2018/the-compiler/incremental-compilation-for-faster-compiles.html"><strong aria-hidden="true">7.11.2.</strong> Incremental Compilation for faster compiles</a></li><li class="expanded "><a href="../rustdoc-2018/the-compiler/an-attribute-for-deprecation.html"><strong aria-hidden="true">7.11.3.</strong> An attribute for deprecation</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/rustup-for-managing-rust-versions.html"><strong aria-hidden="true">7.12.</strong> Rustup for managing Rust versions</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/index.html"><strong aria-hidden="true">7.13.</strong> Cargo and crates.io</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/cargo-check-for-faster-checking.html"><strong aria-hidden="true">7.13.1.</strong> cargo check for faster checking</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/cargo-install-for-easy-installation-of-tools.html"><strong aria-hidden="true">7.13.2.</strong> cargo install for easy installation of tools</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/cargo-new-defaults-to-a-binary-project.html"><strong aria-hidden="true">7.13.3.</strong> cargo new defaults to a binary project</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/cargo-rustc-for-passing-arbitrary-flags-to-rustc.html"><strong aria-hidden="true">7.13.4.</strong> cargo rustc for passing arbitrary flags to rustc</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/cargo-workspaces-for-multi-package-projects.html"><strong aria-hidden="true">7.13.5.</strong> Cargo workspaces for multi-package projects</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/multi-file-examples.html"><strong aria-hidden="true">7.13.6.</strong> Multi-file examples</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/replacing-dependencies-with-patch.html"><strong aria-hidden="true">7.13.7.</strong> Replacing dependencies with patch</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/cargo-can-use-a-local-registry-replacement.html"><strong aria-hidden="true">7.13.8.</strong> Cargo can use a local registry replacement</a></li><li class="expanded "><a href="../rustdoc-2018/cargo-and-crates-io/crates-io-disallows-wildcard-dependencies.html"><strong aria-hidden="true">7.13.9.</strong> Crates.io disallows wildcard dependencies</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/documentation/index.html"><strong aria-hidden="true">7.14.</strong> Documentation</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/documentation/new-editions-of-the-book.html"><strong aria-hidden="true">7.14.1.</strong> New editions of the &quot;the book&quot;</a></li><li class="expanded "><a href="../rustdoc-2018/documentation/the-rust-bookshelf.html"><strong aria-hidden="true">7.14.2.</strong> The Rust Bookshelf</a></li><li class="expanded "><a href="../rustdoc-2018/documentation/the-rustonomicon.html"><strong aria-hidden="true">7.14.3.</strong> The Rustonomicon</a></li><li class="expanded "><a href="../rustdoc-2018/documentation/std-os-has-documentation-for-all-platforms.html"><strong aria-hidden="true">7.14.4.</strong> Full documentation for std::os</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/rustdoc/index.html"><strong aria-hidden="true">7.15.</strong> rustdoc</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/rustdoc/documentation-tests-can-now-compile-fail.html"><strong aria-hidden="true">7.15.1.</strong> Documentation tests can now compile-fail</a></li><li class="expanded "><a href="../rustdoc-2018/rustdoc/rustdoc-uses-commonmark.html"><strong aria-hidden="true">7.15.2.</strong> Rustdoc uses CommonMark</a></li></ol></li><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/index.html"><strong aria-hidden="true">7.16.</strong> Platform and target support</a></li><li><ol class="section"><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/libcore-for-low-level-rust.html"><strong aria-hidden="true">7.16.1.</strong> libcore for low-level Rust</a></li><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/webassembly-support.html"><strong aria-hidden="true">7.16.2.</strong> WebAssembly support</a></li><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/global-allocators.html"><strong aria-hidden="true">7.16.3.</strong> Global allocators</a></li><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/msvc-toolchain-support.html"><strong aria-hidden="true">7.16.4.</strong> MSVC toolchain support</a></li><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/musl-support-for-fully-static-binaries.html"><strong aria-hidden="true">7.16.5.</strong> MUSL support for fully static binaries</a></li><li class="expanded "><a href="../rustdoc-2018/platform-and-target-support/cdylib-crates-for-c-interoperability.html"><strong aria-hidden="true">7.16.6.</strong> cdylib crates for C interoperability</a></li></ol></li></ol></li><li class="expanded "><a href="../rustc-guide/about-this-guide.html"><strong aria-hidden="true">8.</strong> rustc guide</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/part-1-intro.html"><strong aria-hidden="true">8.1.</strong> Part 1: Building, debugging, and contributing to Rustc</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/compiler-team.html"><strong aria-hidden="true">8.1.1.</strong> About the compiler team</a></li><li class="expanded "><a href="../rustc-guide/how-to-build-and-run.html"><strong aria-hidden="true">8.1.2.</strong> How to Build and Run the Compiler</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/build-install-distribution-artifacts.html"><strong aria-hidden="true">8.1.2.1.</strong> Build and Install distribution artifacts</a></li><li class="expanded "><a href="../rustc-guide/compiler-documenting.html"><strong aria-hidden="true">8.1.2.2.</strong> Documenting Compiler</a></li></ol></li><li class="expanded "><a href="../rustc-guide/tests/intro.html"><strong aria-hidden="true">8.1.3.</strong> The compiler testing framework</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/tests/running.html"><strong aria-hidden="true">8.1.3.1.</strong> Running tests</a></li><li class="expanded "><a href="../rustc-guide/tests/adding.html"><strong aria-hidden="true">8.1.3.2.</strong> Adding new tests</a></li><li class="expanded "><a href="../rustc-guide/compiletest.html"><strong aria-hidden="true">8.1.3.3.</strong> Using compiletest + commands to control test execution</a></li></ol></li><li class="expanded "><a href="../rustc-guide/walkthrough.html"><strong aria-hidden="true">8.1.4.</strong> Walkthrough: a typical contribution</a></li><li class="expanded "><a href="../rustc-guide/implementing_new_features.html"><strong aria-hidden="true">8.1.5.</strong> Implementing new features</a></li><li class="expanded "><a href="../rustc-guide/stabilization_guide.html"><strong aria-hidden="true">8.1.6.</strong> Stabilizing Features</a></li><li class="expanded "><a href="../rustc-guide/compiler-debugging.html"><strong aria-hidden="true">8.1.7.</strong> Debugging the Compiler</a></li><li class="expanded "><a href="../rustc-guide/profiling.html"><strong aria-hidden="true">8.1.8.</strong> Profiling the compiler</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/profiling/with_perf.html"><strong aria-hidden="true">8.1.8.1.</strong> with the linux perf tool</a></li></ol></li><li class="expanded "><a href="../rustc-guide/conventions.html"><strong aria-hidden="true">8.1.9.</strong> Coding conventions</a></li><li class="expanded "><a href="../rustc-guide/crates-io.html"><strong aria-hidden="true">8.1.10.</strong> crates.io Dependencies</a></li><li class="expanded "><a href="../rustc-guide/diagnostics.html"><strong aria-hidden="true">8.1.11.</strong> Emitting Errors and other Diagnostics</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/diagnostics/json-format.html"><strong aria-hidden="true">8.1.11.1.</strong> JSON diagnostic format</a></li></ol></li></ol></li><li class="expanded "><a href="../rustc-guide/part-2-intro.html"><strong aria-hidden="true">8.2.</strong> Part 2: How rustc works</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/high-level-overview.html"><strong aria-hidden="true">8.2.1.</strong> High-level overview of the compiler source</a></li><li class="expanded "><a href="../rustc-guide/rustc-driver.html"><strong aria-hidden="true">8.2.2.</strong> The Rustc Driver and Interface</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/rustdoc.html"><strong aria-hidden="true">8.2.2.1.</strong> Rustdoc</a></li></ol></li><li class="expanded "><a href="../rustc-guide/query.html"><strong aria-hidden="true">8.2.3.</strong> Queries: demand-driven compilation</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/queries/query-evaluation-model-in-detail.html"><strong aria-hidden="true">8.2.3.1.</strong> The Query Evaluation Model in Detail</a></li><li class="expanded "><a href="../rustc-guide/queries/incremental-compilation.html"><strong aria-hidden="true">8.2.3.2.</strong> Incremental compilation</a></li><li class="expanded "><a href="../rustc-guide/queries/incremental-compilation-in-detail.html"><strong aria-hidden="true">8.2.3.3.</strong> Incremental compilation In Detail</a></li><li class="expanded "><a href="../rustc-guide/incrcomp-debugging.html"><strong aria-hidden="true">8.2.3.4.</strong> Debugging and Testing</a></li></ol></li><li class="expanded "><a href="../rustc-guide/the-parser.html"><strong aria-hidden="true">8.2.4.</strong> The parser</a></li><li class="expanded "><a href="../rustc-guide/test-implementation.html"><strong aria-hidden="true">8.2.5.</strong> #[test] Implementation</a></li><li class="expanded "><a href="../rustc-guide/macro-expansion.html"><strong aria-hidden="true">8.2.6.</strong> Macro expansion</a></li><li class="expanded "><a href="../rustc-guide/name-resolution.html"><strong aria-hidden="true">8.2.7.</strong> Name resolution</a></li><li class="expanded "><a href="../rustc-guide/hir.html"><strong aria-hidden="true">8.2.8.</strong> The HIR (High-level IR)</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/lowering.html"><strong aria-hidden="true">8.2.8.1.</strong> Lowering AST to HIR</a></li><li class="expanded "><a href="../rustc-guide/hir-debugging.html"><strong aria-hidden="true">8.2.8.2.</strong> Debugging</a></li></ol></li><li class="expanded "><a href="../rustc-guide/closure.html"><strong aria-hidden="true">8.2.9.</strong> Closure expansion</a></li><li class="expanded "><a href="../rustc-guide/ty.html"><strong aria-hidden="true">8.2.10.</strong> The ty module: representing types</a></li><li class="expanded "><a href="../rustc-guide/kinds.html"><strong aria-hidden="true">8.2.11.</strong> Kinds</a></li><li class="expanded "><a href="../rustc-guide/type-inference.html"><strong aria-hidden="true">8.2.12.</strong> Type inference</a></li><li class="expanded "><a href="../rustc-guide/traits/resolution.html"><strong aria-hidden="true">8.2.13.</strong> Trait solving (old-style)</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/traits/hrtb.html"><strong aria-hidden="true">8.2.13.1.</strong> Higher-ranked trait bounds</a></li><li class="expanded "><a href="../rustc-guide/traits/caching.html"><strong aria-hidden="true">8.2.13.2.</strong> Caching subtleties</a></li><li class="expanded "><a href="../rustc-guide/traits/specialization.html"><strong aria-hidden="true">8.2.13.3.</strong> Specialization</a></li></ol></li><li class="expanded "><a href="../rustc-guide/traits/index.html"><strong aria-hidden="true">8.2.14.</strong> Trait solving (new-style)</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/traits/lowering-to-logic.html"><strong aria-hidden="true">8.2.14.1.</strong> Lowering to logic</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/traits/goals-and-clauses.html"><strong aria-hidden="true">8.2.14.1.1.</strong> Goals and clauses</a></li><li class="expanded "><a href="../rustc-guide/traits/associated-types.html"><strong aria-hidden="true">8.2.14.1.2.</strong> Equality and associated types</a></li><li class="expanded "><a href="../rustc-guide/traits/implied-bounds.html"><strong aria-hidden="true">8.2.14.1.3.</strong> Implied bounds</a></li><li class="expanded "><a href="../rustc-guide/traits/regions.html"><strong aria-hidden="true">8.2.14.1.4.</strong> Region constraints</a></li><li class="expanded "><a href="../rustc-guide/traits/lowering-module.html"><strong aria-hidden="true">8.2.14.1.5.</strong> The lowering module in rustc</a></li><li class="expanded "><a href="../rustc-guide/traits/lowering-rules.html"><strong aria-hidden="true">8.2.14.1.6.</strong> Lowering rules</a></li><li class="expanded "><a href="../rustc-guide/traits/wf.html"><strong aria-hidden="true">8.2.14.1.7.</strong> Well-formedness checking</a></li></ol></li><li class="expanded "><a href="../rustc-guide/traits/canonical-queries.html"><strong aria-hidden="true">8.2.14.2.</strong> Canonical queries</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/traits/canonicalization.html"><strong aria-hidden="true">8.2.14.2.1.</strong> Canonicalization</a></li></ol></li><li class="expanded "><a href="../rustc-guide/traits/slg.html"><strong aria-hidden="true">8.2.14.3.</strong> The SLG solver</a></li><li class="expanded "><a href="../rustc-guide/traits/chalk-overview.html"><strong aria-hidden="true">8.2.14.4.</strong> An Overview of Chalk</a></li><li class="expanded "><a href="../rustc-guide/traits/bibliography.html"><strong aria-hidden="true">8.2.14.5.</strong> Bibliography</a></li></ol></li><li class="expanded "><a href="../rustc-guide/type-checking.html"><strong aria-hidden="true">8.2.15.</strong> Type checking</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/method-lookup.html"><strong aria-hidden="true">8.2.15.1.</strong> Method Lookup</a></li><li class="expanded "><a href="../rustc-guide/variance.html"><strong aria-hidden="true">8.2.15.2.</strong> Variance</a></li><li class="expanded "><a href="../rustc-guide/existential-types.html"><strong aria-hidden="true">8.2.15.3.</strong> Existential Types</a></li></ol></li><li class="expanded "><a href="../rustc-guide/mir/index.html"><strong aria-hidden="true">8.2.16.</strong> The MIR (Mid-level IR)</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/mir/construction.html"><strong aria-hidden="true">8.2.16.1.</strong> MIR construction</a></li><li class="expanded "><a href="../rustc-guide/mir/visitor.html"><strong aria-hidden="true">8.2.16.2.</strong> MIR visitor and traversal</a></li><li class="expanded "><a href="../rustc-guide/mir/passes.html"><strong aria-hidden="true">8.2.16.3.</strong> MIR passes: getting the MIR for a function</a></li><li class="expanded "><a href="../rustc-guide/mir/optimizations.html"><strong aria-hidden="true">8.2.16.4.</strong> MIR optimizations</a></li><li class="expanded "><a href="../rustc-guide/mir/debugging.html"><strong aria-hidden="true">8.2.16.5.</strong> Debugging</a></li></ol></li><li class="expanded "><a href="../rustc-guide/borrow_check.html"><strong aria-hidden="true">8.2.17.</strong> The borrow checker</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/borrow_check/moves_and_initialization.html"><strong aria-hidden="true">8.2.17.1.</strong> Tracking moves and initialization</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/borrow_check/moves_and_initialization/move_paths.html"><strong aria-hidden="true">8.2.17.1.1.</strong> Move paths</a></li></ol></li><li class="expanded "><a href="../rustc-guide/borrow_check/type_check.html"><strong aria-hidden="true">8.2.17.2.</strong> MIR type checker</a></li><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference.html"><strong aria-hidden="true">8.2.17.3.</strong> Region inference</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference/constraint_propagation.html"><strong aria-hidden="true">8.2.17.3.1.</strong> Constraint propagation</a></li><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference/lifetime_parameters.html"><strong aria-hidden="true">8.2.17.3.2.</strong> Lifetime parameters</a></li><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference/member_constraints.html"><strong aria-hidden="true">8.2.17.3.3.</strong> Member constraints</a></li><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference/placeholders_and_universes.html"><strong aria-hidden="true">8.2.17.3.4.</strong> Placeholders and universes</a></li><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference/closure_constraints.html"><strong aria-hidden="true">8.2.17.3.5.</strong> Closure constraints</a></li><li class="expanded "><a href="../rustc-guide/borrow_check/region_inference/error_reporting.html"><strong aria-hidden="true">8.2.17.3.6.</strong> Errror reporting</a></li></ol></li><li class="expanded "><a href="../rustc-guide/borrow_check/two_phase_borrows.html"><strong aria-hidden="true">8.2.17.4.</strong> Two-phase-borrows</a></li></ol></li><li class="expanded "><a href="../rustc-guide/const-eval.html"><strong aria-hidden="true">8.2.18.</strong> Constant evaluation</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/miri.html"><strong aria-hidden="true">8.2.18.1.</strong> miri const evaluator</a></li></ol></li><li class="expanded "><a href="../rustc-guide/param_env.html"><strong aria-hidden="true">8.2.19.</strong> Parameter Environments</a></li><li class="expanded "><a href="../rustc-guide/codegen.html"><strong aria-hidden="true">8.2.20.</strong> Code Generation</a></li><li><ol class="section"><li class="expanded "><a href="../rustc-guide/codegen/updating-llvm.html"><strong aria-hidden="true">8.2.20.1.</strong> Updating LLVM</a></li><li class="expanded "><a href="../rustc-guide/codegen/debugging.html"><strong aria-hidden="true">8.2.20.2.</strong> Debugging LLVM</a></li></ol></li><li class="expanded "><a href="../rustc-guide/profile-guided-optimization.html"><strong aria-hidden="true">8.2.21.</strong> Profile-guided Optimization</a></li><li class="expanded "><a href="../rustc-guide/debugging-support-in-rustc.html"><strong aria-hidden="true">8.2.22.</strong> Debugging Support in Rust Compiler</a></li></ol></li><li class="expanded "><a href="../rustc-guide/appendix/stupid-stats.html"><strong aria-hidden="true">8.3.</strong> Appendix A: Stupid Stats</a></li><li class="expanded "><a href="../rustc-guide/appendix/background.html"><strong aria-hidden="true">8.4.</strong> Appendix B: Background material</a></li><li class="expanded "><a href="../rustc-guide/appendix/glossary.html"><strong aria-hidden="true">8.5.</strong> Appendix C: Glossary</a></li><li class="expanded "><a href="../rustc-guide/appendix/code-index.html"><strong aria-hidden="true">8.6.</strong> Appendix D: Code Index</a></li><li class="expanded "><a href="../rustc-guide/appendix/bibliography.html"><strong aria-hidden="true">8.7.</strong> Appendix E: Bibliography</a></li><li class="expanded "><a href="../rustc-guide/important-links.html"><strong aria-hidden="true">8.8.</strong> important links</a></li></ol></li><li class="expanded "><a href="../learningrust/index.html"><strong aria-hidden="true">9.</strong> Learning Rust</a></li><li><ol class="section"><li class="expanded "><a href="../learningrust/a1.why_rust.html"><strong aria-hidden="true">9.1.</strong> Why Rust</a></li><li class="expanded "><a href="../learningrust/a2.installation.html"><strong aria-hidden="true">9.2.</strong> Installation</a></li><li class="expanded "><a href="../learningrust/a3.hello_world.html"><strong aria-hidden="true">9.3.</strong> Hello World</a></li><li class="expanded "><a href="../learningrust/a4.cargo,crates_and_basic_project_structure.html"><strong aria-hidden="true">9.4.</strong> Cargo,crates and basic project structure</a></li><li class="expanded "><a href="../learningrust/a5.comments_and_documenting_the_code.html"><strong aria-hidden="true">9.5.</strong> Comments and documenting the code</a></li><li class="expanded "><a href="../learningrust/a6.variable_bindings,constants_and_statics.html"><strong aria-hidden="true">9.6.</strong> Variable bindings, constants and statics</a></li><li class="expanded "><a href="../learningrust/a7.functions.html"><strong aria-hidden="true">9.7.</strong> Functions</a></li><li class="expanded "><a href="../learningrust/a8.primitive_data_types.html"><strong aria-hidden="true">9.8.</strong> Primitive data types</a></li><li class="expanded "><a href="../learningrust/a9.operators.html"><strong aria-hidden="true">9.9.</strong> Operators</a></li><li class="expanded "><a href="../learningrust/a10.control_flows.html"><strong aria-hidden="true">9.10.</strong> Control flows</a></li><li class="expanded "><a href="../learningrust/b1.vectors.html"><strong aria-hidden="true">9.11.</strong> Vectors</a></li><li class="expanded "><a href="../learningrust/b2.structs.html"><strong aria-hidden="true">9.12.</strong> Structs</a></li><li class="expanded "><a href="../learningrust/b3.enums.html"><strong aria-hidden="true">9.13.</strong> Enums</a></li><li class="expanded "><a href="../learningrust/b4.generics.html"><strong aria-hidden="true">9.14.</strong> Generics</a></li><li class="expanded "><a href="../learningrust/b5.impls_and_traits.html"><strong aria-hidden="true">9.15.</strong> Impls and traits</a></li><li class="expanded "><a href="../learningrust/c1.ownership.html"><strong aria-hidden="true">9.16.</strong> Ownership</a></li><li class="expanded "><a href="../learningrust/c2.borrowing.html"><strong aria-hidden="true">9.17.</strong> Borrowing</a></li><li class="expanded "><a href="../learningrust/c3.lifetimes.html"><strong aria-hidden="true">9.18.</strong> Lifetimes</a></li><li class="expanded "><a href="../learningrust/d1.code_organization.html"><strong aria-hidden="true">9.19.</strong> Code organization</a></li><li class="expanded "><a href="../learningrust/d2.functions.html"><strong aria-hidden="true">9.20.</strong> Functions</a></li><li class="expanded "><a href="../learningrust/d3.modules.html"><strong aria-hidden="true">9.21.</strong> Modules</a></li><li class="expanded "><a href="../learningrust/d4.crates.html"><strong aria-hidden="true">9.22.</strong> Crates</a></li><li class="expanded "><a href="../learningrust/d5.workspaces.html"><strong aria-hidden="true">9.23.</strong> Workspaces</a></li><li class="expanded "><a href="../learningrust/d6.use.html"><strong aria-hidden="true">9.24.</strong> use</a></li><li class="expanded "><a href="../learningrust/d7.std_primitives_and_preludes.html"><strong aria-hidden="true">9.25.</strong> std, primitives and preludes</a></li><li class="expanded "><a href="../learningrust/e1.smart_compiler.html"><strong aria-hidden="true">9.26.</strong> Smart Compiler</a></li><li class="expanded "><a href="../learningrust/e2.panicking.html"><strong aria-hidden="true">9.27.</strong> Panicking</a></li><li class="expanded "><a href="../learningrust/e3.option_and_result.html"><strong aria-hidden="true">9.28.</strong> Option and Result</a></li><li class="expanded "><a href="../learningrust/e4.unwrap_and_expect.html"><strong aria-hidden="true">9.29.</strong> Unwrap and Expect</a></li><li class="expanded "><a href="../learningrust/e5.error_and_none_propagation.html"><strong aria-hidden="true">9.30.</strong> Error and None Propagation</a></li><li class="expanded "><a href="../learningrust/e6.combinators.html"><strong aria-hidden="true">9.31.</strong> Combinators</a></li><li class="expanded "><a href="../learningrust/e7.custom_error_types.html"><strong aria-hidden="true">9.32.</strong> Custom Error Types</a></li></ol></li><li class="expanded "><a href="../rustcookbook/intro.html"><strong aria-hidden="true">10.</strong> Rust Cook Book</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/algorithms.html"><strong aria-hidden="true">10.1.</strong> Algorithms</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/algorithms/randomness.html"><strong aria-hidden="true">10.1.1.</strong> Generate Random Values</a></li><li class="expanded "><a href="../rustcookbook/algorithms/sorting.html"><strong aria-hidden="true">10.1.2.</strong> Sort a Vector</a></li></ol></li><li class="expanded "><a href="../rustcookbook/cli.html"><strong aria-hidden="true">10.2.</strong> Command Line</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/cli/arguments.html"><strong aria-hidden="true">10.2.1.</strong> Argument Parsing</a></li><li class="expanded "><a href="../rustcookbook/cli/ansi_terminal.html"><strong aria-hidden="true">10.2.2.</strong> ANSI Terminal</a></li></ol></li><li class="expanded "><a href="../rustcookbook/compression.html"><strong aria-hidden="true">10.3.</strong> Compression</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/compression/tar.html"><strong aria-hidden="true">10.3.1.</strong> Working with Tarballs</a></li></ol></li><li class="expanded "><a href="../rustcookbook/concurrency.html"><strong aria-hidden="true">10.4.</strong> Concurrency</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/concurrency/threads.html"><strong aria-hidden="true">10.4.1.</strong> Explicit Threads</a></li><li class="expanded "><a href="../rustcookbook/concurrency/parallel.html"><strong aria-hidden="true">10.4.2.</strong> Data Parallelism</a></li></ol></li><li class="expanded "><a href="../rustcookbook/cryptography.html"><strong aria-hidden="true">10.5.</strong> Cryptography</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/cryptography/hashing.html"><strong aria-hidden="true">10.5.1.</strong> Hashing</a></li><li class="expanded "><a href="../rustcookbook/cryptography/encryption.html"><strong aria-hidden="true">10.5.2.</strong> Encryption</a></li></ol></li><li class="expanded "><a href="../rustcookbook/data_structures.html"><strong aria-hidden="true">10.6.</strong> Data Structures</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/data_structures/bitfield.html"><strong aria-hidden="true">10.6.1.</strong> Bitfield</a></li></ol></li><li class="expanded "><a href="../rustcookbook/database.html"><strong aria-hidden="true">10.7.</strong> Database</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/database/sqlite.html"><strong aria-hidden="true">10.7.1.</strong> SQLite</a></li><li class="expanded "><a href="../rustcookbook/database/postgres.html"><strong aria-hidden="true">10.7.2.</strong> Postgres</a></li></ol></li><li class="expanded "><a href="../rustcookbook/datetime.html"><strong aria-hidden="true">10.8.</strong> Date and Time</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/datetime/duration.html"><strong aria-hidden="true">10.8.1.</strong> Duration and Calculation</a></li><li class="expanded "><a href="../rustcookbook/datetime/parse.html"><strong aria-hidden="true">10.8.2.</strong> Parsing and Displaying</a></li></ol></li><li class="expanded "><a href="../rustcookbook/development_tools.html"><strong aria-hidden="true">10.9.</strong> Development Tools</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/development_tools/debugging.html"><strong aria-hidden="true">10.9.1.</strong> Debugging</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/development_tools/debugging/log.html"><strong aria-hidden="true">10.9.1.1.</strong> Log Messages</a></li><li class="expanded "><a href="../rustcookbook/development_tools/debugging/config_log.html"><strong aria-hidden="true">10.9.1.2.</strong> Configure Logging</a></li></ol></li><li class="expanded "><a href="../rustcookbook/development_tools/versioning.html"><strong aria-hidden="true">10.9.2.</strong> Versioning</a></li><li class="expanded "><a href="../rustcookbook/development_tools/build_tools.html"><strong aria-hidden="true">10.9.3.</strong> Build Time Tooling</a></li></ol></li><li class="expanded "><a href="../rustcookbook/encoding.html"><strong aria-hidden="true">10.10.</strong> Encoding</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/encoding/strings.html"><strong aria-hidden="true">10.10.1.</strong> Character Sets</a></li><li class="expanded "><a href="../rustcookbook/encoding/csv.html"><strong aria-hidden="true">10.10.2.</strong> CSV processing</a></li><li class="expanded "><a href="../rustcookbook/encoding/complex.html"><strong aria-hidden="true">10.10.3.</strong> Structured Data</a></li></ol></li><li class="expanded "><a href="../rustcookbook/errors.html"><strong aria-hidden="true">10.11.</strong> Error Handling</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/errors/handle.html"><strong aria-hidden="true">10.11.1.</strong> Handle Error Variants</a></li></ol></li><li class="expanded "><a href="../rustcookbook/file.html"><strong aria-hidden="true">10.12.</strong> File System</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/file/read-write.html"><strong aria-hidden="true">10.12.1.</strong> Read &amp; Write</a></li><li class="expanded "><a href="../rustcookbook/file/dir.html"><strong aria-hidden="true">10.12.2.</strong> Directory Traversal</a></li></ol></li><li class="expanded "><a href="../rustcookbook/hardware.html"><strong aria-hidden="true">10.13.</strong> Hardware Support</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/hardware/processor.html"><strong aria-hidden="true">10.13.1.</strong> Processor</a></li></ol></li><li class="expanded "><a href="../rustcookbook/mem.html"><strong aria-hidden="true">10.14.</strong> Memory Management</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/mem/global_static.html"><strong aria-hidden="true">10.14.1.</strong> Global Static</a></li></ol></li><li class="expanded "><a href="../rustcookbook/net.html"><strong aria-hidden="true">10.15.</strong> Network</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/net/server.html"><strong aria-hidden="true">10.15.1.</strong> Server</a></li></ol></li><li class="expanded "><a href="../rustcookbook/os.html"><strong aria-hidden="true">10.16.</strong> Operating System</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/os/external.html"><strong aria-hidden="true">10.16.1.</strong> External Command</a></li></ol></li><li class="expanded "><a href="../rustcookbook/science.html"><strong aria-hidden="true">10.17.</strong> Science</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/science/mathematics.html"><strong aria-hidden="true">10.17.1.</strong> Mathematics</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/science/mathematics/linear_algebra.html"><strong aria-hidden="true">10.17.1.1.</strong> Linear Algebra</a></li><li class="expanded "><a href="../rustcookbook/science/mathematics/trigonometry.html"><strong aria-hidden="true">10.17.1.2.</strong> Trigonometry</a></li><li class="expanded "><a href="../rustcookbook/science/mathematics/complex_numbers.html"><strong aria-hidden="true">10.17.1.3.</strong> Complex Numbers</a></li><li class="expanded "><a href="../rustcookbook/science/mathematics/statistics.html"><strong aria-hidden="true">10.17.1.4.</strong> Statistics</a></li><li class="expanded "><a href="../rustcookbook/science/mathematics/miscellaneous.html"><strong aria-hidden="true">10.17.1.5.</strong> Miscellaneous</a></li></ol></li></ol></li><li class="expanded "><a href="../rustcookbook/text.html"><strong aria-hidden="true">10.18.</strong> Text Processing</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/text/regex.html"><strong aria-hidden="true">10.18.1.</strong> Regular Expressions</a></li><li class="expanded "><a href="../rustcookbook/text/string_parsing.html"><strong aria-hidden="true">10.18.2.</strong> String Parsing</a></li></ol></li><li class="expanded "><a href="../rustcookbook/web.html"><strong aria-hidden="true">10.19.</strong> Web Programming</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/web/scraping.html"><strong aria-hidden="true">10.19.1.</strong> Extracting Links</a></li><li class="expanded "><a href="../rustcookbook/web/url.html"><strong aria-hidden="true">10.19.2.</strong> URL</a></li><li class="expanded "><a href="../rustcookbook/web/mime.html"><strong aria-hidden="true">10.19.3.</strong> Media Types</a></li><li class="expanded "><a href="../rustcookbook/web/clients.html"><strong aria-hidden="true">10.19.4.</strong> Clients</a></li><li><ol class="section"><li class="expanded "><a href="../rustcookbook/web/clients/requests.html"><strong aria-hidden="true">10.19.4.1.</strong> Making Requests</a></li><li class="expanded "><a href="../rustcookbook/web/clients/apis.html"><strong aria-hidden="true">10.19.4.2.</strong> Calling a Web API</a></li><li class="expanded "><a href="../rustcookbook/web/clients/download.html"><strong aria-hidden="true">10.19.4.3.</strong> Downloads</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Knowledge Management Base</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2><a class="header" href="#closures-anonymous-functions-that-can-capture-their-environment" id="closures-anonymous-functions-that-can-capture-their-environment">Closures: Anonymous Functions that Can Capture Their Environment</a></h2>
<p>Rust’s closures are anonymous functions you can save in a variable or pass as
arguments to other functions. You can create the closure in one place and then
call the closure to evaluate it in a different context. Unlike functions,
closures can capture values from the scope in which they’re defined. We’ll
demonstrate how these closure features allow for code reuse and behavior
customization.</p>
<h3><a class="header" href="#creating-an-abstraction-of-behavior-with-closures" id="creating-an-abstraction-of-behavior-with-closures">Creating an Abstraction of Behavior with Closures</a></h3>
<p>Let’s work on an example of a situation in which it’s useful to store a closure
to be executed later. Along the way, we’ll talk about the syntax of closures,
type inference, and traits.</p>
<p>Consider this hypothetical situation: we work at a startup that’s making an app
to generate custom exercise workout plans. The backend is written in Rust, and
the algorithm that generates the workout plan takes into account many factors,
such as the app user’s age, body mass index, exercise preferences, recent
workouts, and an intensity number they specify. The actual algorithm used isn’t
important in this example; what’s important is that this calculation takes a
few seconds. We want to call this algorithm only when we need to and only call
it once so we don’t make the user wait more than necessary.</p>
<p>We’ll simulate calling this hypothetical algorithm with the function
<code>simulated_expensive_calculation</code> shown in Listing 13-1, which will print
<code>calculating slowly...</code>, wait for two seconds, and then return whatever number
we passed in.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span>use std::thread;
use std::time::Duration;

fn simulated_expensive_calculation(intensity: u32) -&gt; u32 {
    println!(&quot;calculating slowly...&quot;);
    thread::sleep(Duration::from_secs(2));
    intensity
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-1: A function to stand in for a hypothetical
calculation that takes about 2 seconds to run</span></p>
<p>Next is the <code>main</code> function, which contains the parts of the workout app
important for this example. This function represents the code that the app will
call when a user asks for a workout plan. Because the interaction with the
app’s frontend isn’t relevant to the use of closures, we’ll hardcode values
representing inputs to our program and print the outputs.</p>
<p>The required inputs are these:</p>
<ul>
<li>An intensity number from the user, which is specified when they request
a workout to indicate whether they want a low-intensity workout or a
high-intensity workout</li>
<li>A random number that will generate some variety in the workout plans</li>
</ul>
<p>The output will be the recommended workout plan. Listing 13-2 shows the <code>main</code>
function we’ll use.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">fn main() {
    let simulated_user_specified_value = 10;
    let simulated_random_number = 7;

    generate_workout(
        simulated_user_specified_value,
        simulated_random_number
    );
}
<span class="boring">fn generate_workout(intensity: u32, random_number: u32) {}
</span></code></pre></pre>
<p><span class="caption">Listing 13-2: A <code>main</code> function with hardcoded values to
simulate user input and random number generation</span></p>
<p>We’ve hardcoded the variable <code>simulated_user_specified_value</code> as 10 and the
variable <code>simulated_random_number</code> as 7 for simplicity’s sake; in an actual
program, we’d get the intensity number from the app frontend, and we’d use the
<code>rand</code> crate to generate a random number, as we did in the Guessing Game
example in Chapter 2. The <code>main</code> function calls a <code>generate_workout</code> function
with the simulated input values.</p>
<p>Now that we have the context, let’s get to the algorithm. The function
<code>generate_workout</code> in Listing 13-3 contains the business logic of the
app that we’re most concerned with in this example. The rest of the code
changes in this example will be made to this function.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn simulated_expensive_calculation(num: u32) -&gt; u32 {
</span><span class="boring">    println!(&quot;calculating slowly...&quot;);
</span><span class="boring">    thread::sleep(Duration::from_secs(2));
</span><span class="boring">    num
</span><span class="boring">}
</span><span class="boring">
</span>fn generate_workout(intensity: u32, random_number: u32) {
    if intensity &lt; 25 {
        println!(
            &quot;Today, do {} pushups!&quot;,
            simulated_expensive_calculation(intensity)
        );
        println!(
            &quot;Next, do {} situps!&quot;,
            simulated_expensive_calculation(intensity)
        );
    } else {
        if random_number == 3 {
            println!(&quot;Take a break today! Remember to stay hydrated!&quot;);
        } else {
            println!(
                &quot;Today, run for {} minutes!&quot;,
                simulated_expensive_calculation(intensity)
            );
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-3: The business logic that prints the workout
plans based on the inputs and calls to the <code>simulated_expensive_calculation</code>
function</span></p>
<p>The code in Listing 13-3 has multiple calls to the slow calculation function.
The first <code>if</code> block calls <code>simulated_expensive_calculation</code> twice, the <code>if</code>
inside the outer <code>else</code> doesn’t call it at all, and the code inside the
second <code>else</code> case calls it once.</p>
<!-- NEXT PARAGRAPH WRAPPED WEIRD INTENTIONALLY SEE #199 -->
<p>The desired behavior of the <code>generate_workout</code> function is to first check
whether the user wants a low-intensity workout (indicated by a number less
than 25) or a high-intensity workout (a number of 25 or greater).</p>
<p>Low-intensity workout plans will recommend a number of push-ups and sit-ups
based on the complex algorithm we’re simulating.</p>
<p>If the user wants a high-intensity workout, there’s some additional logic: if
the value of the random number generated by the app happens to be 3, the app
will recommend a break and hydration. If not, the user will get a number of
minutes of running based on the complex algorithm.</p>
<p>This code works the way the business wants it to now, but let’s say the data
science team decides that we need to make some changes to the way we call the
<code>simulated_expensive_calculation</code> function in the future. To simplify the
update when those changes happen, we want to refactor this code so it calls the
<code>simulated_expensive_calculation</code> function only once. We also want to cut the
place where we’re currently unnecessarily calling the function twice without
adding any other calls to that function in the process. That is, we don’t want
to call it if the result isn’t needed, and we still want to call it only once.</p>
<h4><a class="header" href="#refactoring-using-functions" id="refactoring-using-functions">Refactoring Using Functions</a></h4>
<p>We could restructure the workout program in many ways. First, we’ll try
extracting the duplicated call to the <code>simulated_expensive_calculation</code>
function into a variable, as shown in Listing 13-4.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">fn simulated_expensive_calculation(num: u32) -&gt; u32 {
</span><span class="boring">    println!(&quot;calculating slowly...&quot;);
</span><span class="boring">    thread::sleep(Duration::from_secs(2));
</span><span class="boring">    num
</span><span class="boring">}
</span><span class="boring">
</span>fn generate_workout(intensity: u32, random_number: u32) {
    let expensive_result =
        simulated_expensive_calculation(intensity);

    if intensity &lt; 25 {
        println!(
            &quot;Today, do {} pushups!&quot;,
            expensive_result
        );
        println!(
            &quot;Next, do {} situps!&quot;,
            expensive_result
        );
    } else {
        if random_number == 3 {
            println!(&quot;Take a break today! Remember to stay hydrated!&quot;);
        } else {
            println!(
                &quot;Today, run for {} minutes!&quot;,
                expensive_result
            );
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-4: Extracting the calls to
<code>simulated_expensive_calculation</code> to one place and storing the result in the
<code>expensive_result</code> variable</span></p>
<p>This change unifies all the calls to <code>simulated_expensive_calculation</code> and
solves the problem of the first <code>if</code> block unnecessarily calling the function
twice. Unfortunately, we’re now calling this function and waiting for the
result in all cases, which includes the inner <code>if</code> block that doesn’t use the
result value at all.</p>
<p>We want to define code in one place in our program, but only <em>execute</em> that
code where we actually need the result. This is a use case for closures!</p>
<h4><a class="header" href="#refactoring-with-closures-to-store-code" id="refactoring-with-closures-to-store-code">Refactoring with Closures to Store Code</a></h4>
<p>Instead of always calling the <code>simulated_expensive_calculation</code> function before
the <code>if</code> blocks, we can define a closure and store the <em>closure</em> in a variable
rather than storing the result of the function call, as shown in Listing 13-5.
We can actually move the whole body of <code>simulated_expensive_calculation</code> within
the closure we’re introducing here.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span>let expensive_closure = |num| {
    println!(&quot;calculating slowly...&quot;);
    thread::sleep(Duration::from_secs(2));
    num
};
<span class="boring">expensive_closure(5);
</span><span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-5: Defining a closure and storing it in the
<code>expensive_closure</code> variable</span></p>
<p>The closure definition comes after the <code>=</code> to assign it to the variable
<code>expensive_closure</code>. To define a closure, we start with a pair of vertical
pipes (<code>|</code>), inside which we specify the parameters to the closure; this syntax
was chosen because of its similarity to closure definitions in Smalltalk and
Ruby. This closure has one parameter named <code>num</code>: if we had more than one
parameter, we would separate them with commas, like <code>|param1, param2|</code>.</p>
<p>After the parameters, we place curly brackets that hold the body of the
closure—these are optional if the closure body is a single expression. The end
of the closure, after the curly brackets, needs a semicolon to complete the
<code>let</code> statement. The value returned from the last line in the closure body
(<code>num</code>) will be the value returned from the closure when it’s called, because
that line doesn’t end in a semicolon; just as in function bodies.</p>
<p>Note that this <code>let</code> statement means <code>expensive_closure</code> contains the
<em>definition</em> of an anonymous function, not the <em>resulting value</em> of calling the
anonymous function. Recall that we’re using a closure because we want to define
the code to call at one point, store that code, and call it at a later point;
the code we want to call is now stored in <code>expensive_closure</code>.</p>
<p>With the closure defined, we can change the code in the <code>if</code> blocks to call the
closure to execute the code and get the resulting value. We call a closure like
we do a function: we specify the variable name that holds the closure
definition and follow it with parentheses containing the argument values we
want to use, as shown in Listing 13-6.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span>fn generate_workout(intensity: u32, random_number: u32) {
    let expensive_closure = |num| {
        println!(&quot;calculating slowly...&quot;);
        thread::sleep(Duration::from_secs(2));
        num
    };

    if intensity &lt; 25 {
        println!(
            &quot;Today, do {} pushups!&quot;,
            expensive_closure(intensity)
        );
        println!(
            &quot;Next, do {} situps!&quot;,
            expensive_closure(intensity)
        );
    } else {
        if random_number == 3 {
            println!(&quot;Take a break today! Remember to stay hydrated!&quot;);
        } else {
            println!(
                &quot;Today, run for {} minutes!&quot;,
                expensive_closure(intensity)
            );
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-6: Calling the <code>expensive_closure</code> we’ve
defined</span></p>
<p>Now the expensive calculation is called in only one place, and we’re only
executing that code where we need the results.</p>
<p>However, we’ve reintroduced one of the problems from Listing 13-3: we’re still
calling the closure twice in the first <code>if</code> block, which will call the
expensive code twice and make the user wait twice as long as they need to. We
could fix this problem by creating a variable local to that <code>if</code> block to hold
the result of calling the closure, but closures provide us with another
solution. We’ll talk about that solution in a bit. But first let’s talk about
why there aren’t type annotations in the closure definition and the traits
involved with closures.</p>
<h3><a class="header" href="#closure-type-inference-and-annotation" id="closure-type-inference-and-annotation">Closure Type Inference and Annotation</a></h3>
<p>Closures don’t require you to annotate the types of the parameters or the
return value like <code>fn</code> functions do. Type annotations are required on functions
because they’re part of an explicit interface exposed to your users. Defining
this interface rigidly is important for ensuring that everyone agrees on what
types of values a function uses and returns. But closures aren’t used in an
exposed interface like this: they’re stored in variables and used without
naming them and exposing them to users of our library.</p>
<p>Closures are usually short and relevant only within a narrow context rather
than in any arbitrary scenario. Within these limited contexts, the compiler is
reliably able to infer the types of the parameters and the return type, similar
to how it’s able to infer the types of most variables.</p>
<p>Making programmers annotate the types in these small, anonymous functions would
be annoying and largely redundant with the information the compiler already has
available.</p>
<p>As with variables, we can add type annotations if we want to increase
explicitness and clarity at the cost of being more verbose than is strictly
necessary. Annotating the types for the closure we defined in Listing 13-5
would look like the definition shown in Listing 13-7.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span>let expensive_closure = |num: u32| -&gt; u32 {
    println!(&quot;calculating slowly...&quot;);
    thread::sleep(Duration::from_secs(2));
    num
};
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-7: Adding optional type annotations of the
parameter and return value types in the closure</span></p>
<p>With type annotations added, the syntax of closures looks more similar to the
syntax of functions. The following is a vertical comparison of the syntax for
the definition of a function that adds 1 to its parameter and a closure that
has the same behavior. We’ve added some spaces to line up the relevant parts.
This illustrates how closure syntax is similar to function syntax except for
the use of pipes and the amount of syntax that is optional:</p>
<pre><code class="language-rust ignore">fn  add_one_v1   (x: u32) -&gt; u32 { x + 1 }
let add_one_v2 = |x: u32| -&gt; u32 { x + 1 };
let add_one_v3 = |x|             { x + 1 };
let add_one_v4 = |x|               x + 1  ;
</code></pre>
<p>The first line shows a function definition, and the second line shows a fully
annotated closure definition. The third line removes the type annotations from
the closure definition, and the fourth line removes the brackets, which are
optional because the closure body has only one expression. These are all valid
definitions that will produce the same behavior when they’re called.</p>
<p>Closure definitions will have one concrete type inferred for each of their
parameters and for their return value. For instance, Listing 13-8 shows the
definition of a short closure that just returns the value it receives as a
parameter. This closure isn’t very useful except for the purposes of this
example. Note that we haven’t added any type annotations to the definition: if
we then try to call the closure twice, using a <code>String</code> as an argument the
first time and a <code>u32</code> the second time, we’ll get an error.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">let example_closure = |x| x;

let s = example_closure(String::from(&quot;hello&quot;));
let n = example_closure(5);
</code></pre>
<p><span class="caption">Listing 13-8: Attempting to call a closure whose types
are inferred with two different types</span></p>
<p>The compiler gives us this error:</p>
<pre><code class="language-text">error[E0308]: mismatched types
 --&gt; src/main.rs
  |
  | let n = example_closure(5);
  |                         ^ expected struct `std::string::String`, found
  integral variable
  |
  = note: expected type `std::string::String`
             found type `{integer}`
</code></pre>
<p>The first time we call <code>example_closure</code> with the <code>String</code> value, the compiler
infers the type of <code>x</code> and the return type of the closure to be <code>String</code>. Those
types are then locked in to the closure in <code>example_closure</code>, and we get a type
error if we try to use a different type with the same closure.</p>
<h3><a class="header" href="#storing-closures-using-generic-parameters-and-the-fn-traits" id="storing-closures-using-generic-parameters-and-the-fn-traits">Storing Closures Using Generic Parameters and the <code>Fn</code> Traits</a></h3>
<p>Let’s return to our workout generation app. In Listing 13-6, our code was still
calling the expensive calculation closure more times than it needed to. One
option to solve this issue is to save the result of the expensive closure in a
variable for reuse and use the variable in each place we need the result,
instead of calling the closure again. However, this method could result in a
lot of repeated code.</p>
<p>Fortunately, another solution is available to us. We can create a struct that
will hold the closure and the resulting value of calling the closure. The
struct will execute the closure only if we need the resulting value, and it
will cache the resulting value so the rest of our code doesn’t have to be
responsible for saving and reusing the result. You may know this pattern as
<em>memoization</em> or <em>lazy evaluation</em>.</p>
<p>To make a struct that holds a closure, we need to specify the type of the
closure, because a struct definition needs to know the types of each of its
fields. Each closure instance has its own unique anonymous type: that is, even
if two closures have the same signature, their types are still considered
different. To define structs, enums, or function parameters that use closures,
we use generics and trait bounds, as we discussed in Chapter 10.</p>
<p>The <code>Fn</code> traits are provided by the standard library. All closures implement at
least one of the traits: <code>Fn</code>, <code>FnMut</code>, or <code>FnOnce</code>. We’ll discuss the
difference between these traits in the <a href="#capturing-the-environment-with-closures">“Capturing the Environment with
Closures”</a><!-- ignore --> section; in
this example, we can use the <code>Fn</code> trait.</p>
<p>We add types to the <code>Fn</code> trait bound to represent the types of the parameters
and return values the closures must have to match this trait bound. In this
case, our closure has a parameter of type <code>u32</code> and returns a <code>u32</code>, so the
trait bound we specify is <code>Fn(u32) -&gt; u32</code>.</p>
<p>Listing 13-9 shows the definition of the <code>Cacher</code> struct that holds a closure
and an optional result value.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span>struct Cacher&lt;T&gt;
    where T: Fn(u32) -&gt; u32
{
    calculation: T,
    value: Option&lt;u32&gt;,
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-9: Defining a <code>Cacher</code> struct that holds a
closure in <code>calculation</code> and an optional result in <code>value</code></span></p>
<p>The <code>Cacher</code> struct has a <code>calculation</code> field of the generic type <code>T</code>. The
trait bounds on <code>T</code> specify that it’s a closure by using the <code>Fn</code> trait. Any
closure we want to store in the <code>calculation</code> field must have one <code>u32</code>
parameter (specified within the parentheses after <code>Fn</code>) and must return a
<code>u32</code> (specified after the <code>-&gt;</code>).</p>
<blockquote>
<p>Note: Functions can implement all three of the <code>Fn</code> traits too. If what we
want to do doesn’t require capturing a value from the environment, we can use
a function rather than a closure where we need something that implements an
<code>Fn</code> trait.</p>
</blockquote>
<p>The <code>value</code> field is of type <code>Option&lt;u32&gt;</code>. Before we execute the closure,
<code>value</code> will be <code>None</code>. When code using a <code>Cacher</code> asks for the <em>result</em> of the
closure, the <code>Cacher</code> will execute the closure at that time and store the
result within a <code>Some</code> variant in the <code>value</code> field. Then if the code asks for
the result of the closure again, instead of executing the closure again, the
<code>Cacher</code> will return the result held in the <code>Some</code> variant.</p>
<p>The logic around the <code>value</code> field we’ve just described is defined in Listing
13-10.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Cacher&lt;T&gt;
</span><span class="boring">    where T: Fn(u32) -&gt; u32
</span><span class="boring">{
</span><span class="boring">    calculation: T,
</span><span class="boring">    value: Option&lt;u32&gt;,
</span><span class="boring">}
</span><span class="boring">
</span>impl&lt;T&gt; Cacher&lt;T&gt;
    where T: Fn(u32) -&gt; u32
{
    fn new(calculation: T) -&gt; Cacher&lt;T&gt; {
        Cacher {
            calculation,
            value: None,
        }
    }

    fn value(&amp;mut self, arg: u32) -&gt; u32 {
        match self.value {
            Some(v) =&gt; v,
            None =&gt; {
                let v = (self.calculation)(arg);
                self.value = Some(v);
                v
            },
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-10: The caching logic of <code>Cacher</code></span></p>
<p>We want <code>Cacher</code> to manage the struct fields’ values rather than letting the
calling code potentially change the values in these fields directly, so these
fields are private.</p>
<p>The <code>Cacher::new</code> function takes a generic parameter <code>T</code>, which we’ve defined
as having the same trait bound as the <code>Cacher</code> struct. Then <code>Cacher::new</code>
returns a <code>Cacher</code> instance that holds the closure specified in the
<code>calculation</code> field and a <code>None</code> value in the <code>value</code> field, because we haven’t
executed the closure yet.</p>
<p>When the calling code needs the result of evaluating the closure, instead of
calling the closure directly, it will call the <code>value</code> method. This method
checks whether we already have a resulting value in <code>self.value</code> in a <code>Some</code>;
if we do, it returns the value within the <code>Some</code> without executing the closure
again.</p>
<p>If <code>self.value</code> is <code>None</code>, the code calls the closure stored in
<code>self.calculation</code>, saves the result in <code>self.value</code> for future use, and
returns the value as well.</p>
<p>Listing 13-11 shows how we can use this <code>Cacher</code> struct in the function
<code>generate_workout</code> from Listing 13-6.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">
<span class="boring">#![allow(unused_variables)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::thread;
</span><span class="boring">use std::time::Duration;
</span><span class="boring">
</span><span class="boring">struct Cacher&lt;T&gt;
</span><span class="boring">    where T: Fn(u32) -&gt; u32
</span><span class="boring">{
</span><span class="boring">    calculation: T,
</span><span class="boring">    value: Option&lt;u32&gt;,
</span><span class="boring">}
</span><span class="boring">
</span><span class="boring">impl&lt;T&gt; Cacher&lt;T&gt;
</span><span class="boring">    where T: Fn(u32) -&gt; u32
</span><span class="boring">{
</span><span class="boring">    fn new(calculation: T) -&gt; Cacher&lt;T&gt; {
</span><span class="boring">        Cacher {
</span><span class="boring">            calculation,
</span><span class="boring">            value: None,
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">
</span><span class="boring">    fn value(&amp;mut self, arg: u32) -&gt; u32 {
</span><span class="boring">        match self.value {
</span><span class="boring">            Some(v) =&gt; v,
</span><span class="boring">            None =&gt; {
</span><span class="boring">                let v = (self.calculation)(arg);
</span><span class="boring">                self.value = Some(v);
</span><span class="boring">                v
</span><span class="boring">            },
</span><span class="boring">        }
</span><span class="boring">    }
</span><span class="boring">}
</span><span class="boring">
</span>fn generate_workout(intensity: u32, random_number: u32) {
    let mut expensive_result = Cacher::new(|num| {
        println!(&quot;calculating slowly...&quot;);
        thread::sleep(Duration::from_secs(2));
        num
    });

    if intensity &lt; 25 {
        println!(
            &quot;Today, do {} pushups!&quot;,
            expensive_result.value(intensity)
        );
        println!(
            &quot;Next, do {} situps!&quot;,
            expensive_result.value(intensity)
        );
    } else {
        if random_number == 3 {
            println!(&quot;Take a break today! Remember to stay hydrated!&quot;);
        } else {
            println!(
                &quot;Today, run for {} minutes!&quot;,
                expensive_result.value(intensity)
            );
        }
    }
}
<span class="boring">}
</span></code></pre></pre>
<p><span class="caption">Listing 13-11: Using <code>Cacher</code> in the <code>generate_workout</code>
function to abstract away the caching logic</span></p>
<p>Instead of saving the closure in a variable directly, we save a new instance of
<code>Cacher</code> that holds the closure. Then, in each place we want the result, we
call the <code>value</code> method on the <code>Cacher</code> instance. We can call the <code>value</code>
method as many times as we want, or not call it at all, and the expensive
calculation will be run a maximum of once.</p>
<p>Try running this program with the <code>main</code> function from Listing 13-2. Change the
values in the <code>simulated_user_specified_value</code> and <code>simulated_random_number</code>
variables to verify that in all the cases in the various <code>if</code> and <code>else</code>
blocks, <code>calculating slowly...</code> appears only once and only when needed. The
<code>Cacher</code> takes care of the logic necessary to ensure we aren’t calling the
expensive calculation more than we need to so <code>generate_workout</code> can focus on
the business logic.</p>
<h3><a class="header" href="#limitations-of-the-cacher-implementation" id="limitations-of-the-cacher-implementation">Limitations of the <code>Cacher</code> Implementation</a></h3>
<p>Caching values is a generally useful behavior that we might want to use in
other parts of our code with different closures. However, there are two
problems with the current implementation of <code>Cacher</code> that would make reusing it
in different contexts difficult.</p>
<p>The first problem is that a <code>Cacher</code> instance assumes it will always get the
same value for the parameter <code>arg</code> to the <code>value</code> method. That is, this test of
<code>Cacher</code> will fail:</p>
<pre><code class="language-rust ignore panics">#[test]
fn call_with_different_values() {
    let mut c = Cacher::new(|a| a);

    let v1 = c.value(1);
    let v2 = c.value(2);

    assert_eq!(v2, 2);
}
</code></pre>
<p>This test creates a new <code>Cacher</code> instance with a closure that returns the value
passed into it. We call the <code>value</code> method on this <code>Cacher</code> instance with an
<code>arg</code> value of 1 and then an <code>arg</code> value of 2, and we expect the call to
<code>value</code> with the <code>arg</code> value of 2 to return 2.</p>
<p>Run this test with the <code>Cacher</code> implementation in Listing 13-9 and Listing
13-10, and the test will fail on the <code>assert_eq!</code> with this message:</p>
<pre><code class="language-text">thread 'call_with_different_values' panicked at 'assertion failed: `(left == right)`
  left: `1`,
 right: `2`', src/main.rs
</code></pre>
<p>The problem is that the first time we called <code>c.value</code> with 1, the <code>Cacher</code>
instance saved <code>Some(1)</code> in <code>self.value</code>. Thereafter, no matter what we pass in
to the <code>value</code> method, it will always return 1.</p>
<p>Try modifying <code>Cacher</code> to hold a hash map rather than a single value. The keys
of the hash map will be the <code>arg</code> values that are passed in, and the values of
the hash map will be the result of calling the closure on that key. Instead of
looking at whether <code>self.value</code> directly has a <code>Some</code> or a <code>None</code> value, the
<code>value</code> function will look up the <code>arg</code> in the hash map and return the value if
it’s present. If it’s not present, the <code>Cacher</code> will call the closure and save
the resulting value in the hash map associated with its <code>arg</code> value.</p>
<p>The second problem with the current <code>Cacher</code> implementation is that it only
accepts closures that take one parameter of type <code>u32</code> and return a <code>u32</code>. We
might want to cache the results of closures that take a string slice and return
<code>usize</code> values, for example. To fix this issue, try introducing more generic
parameters to increase the flexibility of the <code>Cacher</code> functionality.</p>
<h3><a class="header" href="#capturing-the-environment-with-closures" id="capturing-the-environment-with-closures">Capturing the Environment with Closures</a></h3>
<p>In the workout generator example, we only used closures as inline anonymous
functions. However, closures have an additional capability that functions don’t
have: they can capture their environment and access variables from the scope in
which they’re defined.</p>
<p>Listing 13-12 has an example of a closure stored in the <code>equal_to_x</code> variable
that uses the <code>x</code> variable from the closure’s surrounding environment.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><pre class="playpen"><code class="language-rust">fn main() {
    let x = 4;

    let equal_to_x = |z| z == x;

    let y = 4;

    assert!(equal_to_x(y));
}
</code></pre></pre>
<p><span class="caption">Listing 13-12: Example of a closure that refers to a
variable in its enclosing scope</span></p>
<p>Here, even though <code>x</code> is not one of the parameters of <code>equal_to_x</code>, the
<code>equal_to_x</code> closure is allowed to use the <code>x</code> variable that’s defined in the
same scope that <code>equal_to_x</code> is defined in.</p>
<p>We can’t do the same with functions; if we try with the following example, our
code won’t compile:</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = 4;

    fn equal_to_x(z: i32) -&gt; bool { z == x }

    let y = 4;

    assert!(equal_to_x(y));
}
</code></pre>
<p>We get an error:</p>
<pre><code class="language-text">error[E0434]: can't capture dynamic environment in a fn item; use the || { ...
} closure form instead
 --&gt; src/main.rs
  |
4 |     fn equal_to_x(z: i32) -&gt; bool { z == x }
  |                                          ^
</code></pre>
<p>The compiler even reminds us that this only works with closures!</p>
<p>When a closure captures a value from its environment, it uses memory to store
the values for use in the closure body. This use of memory is overhead that we
don’t want to pay in more common cases where we want to execute code that
doesn’t capture its environment. Because functions are never allowed to capture
their environment, defining and using functions will never incur this overhead.</p>
<p>Closures can capture values from their environment in three ways, which
directly map to the three ways a function can take a parameter: taking
ownership, borrowing mutably, and borrowing immutably. These are encoded in the
three <code>Fn</code> traits as follows:</p>
<ul>
<li><code>FnOnce</code> consumes the variables it captures from its enclosing scope, known
as the closure’s <em>environment</em>. To consume the captured variables, the
closure must take ownership of these variables and move them into the closure
when it is defined. The <code>Once</code> part of the name represents the fact that the
closure can’t take ownership of the same variables more than once, so it can
be called only once.</li>
<li><code>FnMut</code> can change the environment because it mutably borrows values.</li>
<li><code>Fn</code> borrows values from the environment immutably.</li>
</ul>
<p>When you create a closure, Rust infers which trait to use based on how the
closure uses the values from the environment. All closures implement <code>FnOnce</code>
because they can all be called at least once. Closures that don’t move the
captured variables also implement <code>FnMut</code>, and closures that don’t need mutable
access to the captured variables also implement <code>Fn</code>. In Listing 13-12, the
<code>equal_to_x</code> closure borrows <code>x</code> immutably (so <code>equal_to_x</code> has the <code>Fn</code> trait)
because the body of the closure only needs to read the value in <code>x</code>.</p>
<p>If you want to force the closure to take ownership of the values it uses in the
environment, you can use the <code>move</code> keyword before the parameter list. This
technique is mostly useful when passing a closure to a new thread to move the
data so it’s owned by the new thread.</p>
<p>We’ll have more examples of <code>move</code> closures in Chapter 16 when we talk about
concurrency. For now, here’s the code from Listing 13-12 with the <code>move</code>
keyword added to the closure definition and using vectors instead of integers,
because integers can be copied rather than moved; note that this code will not
yet compile.</p>
<p><span class="filename">Filename: src/main.rs</span></p>
<pre><code class="language-rust ignore does_not_compile">fn main() {
    let x = vec![1, 2, 3];

    let equal_to_x = move |z| z == x;

    println!(&quot;can't use x here: {:?}&quot;, x);

    let y = vec![1, 2, 3];

    assert!(equal_to_x(y));
}
</code></pre>
<p>We receive the following error:</p>
<pre><code class="language-text">error[E0382]: use of moved value: `x`
 --&gt; src/main.rs:6:40
  |
4 |     let equal_to_x = move |z| z == x;
  |                      -------- value moved (into closure) here
5 |
6 |     println!(&quot;can't use x here: {:?}&quot;, x);
  |                                        ^ value used here after move
  |
  = note: move occurs because `x` has type `std::vec::Vec&lt;i32&gt;`, which does not
  implement the `Copy` trait
</code></pre>
<p>The <code>x</code> value is moved into the closure when the closure is defined, because we
added the <code>move</code> keyword. The closure then has ownership of <code>x</code>, and <code>main</code>
isn’t allowed to use <code>x</code> anymore in the <code>println!</code> statement. Removing
<code>println!</code> will fix this example.</p>
<p>Most of the time when specifying one of the <code>Fn</code> trait bounds, you can start
with <code>Fn</code> and the compiler will tell you if you need <code>FnMut</code> or <code>FnOnce</code> based
on what happens in the closure body.</p>
<p>To illustrate situations where closures that can capture their environment are
useful as function parameters, let’s move on to our next topic: iterators.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../rustbook/ch13-00-functional-features.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../rustbook/ch13-02-iterators.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../rustbook/ch13-00-functional-features.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../rustbook/ch13-02-iterators.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        
        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
